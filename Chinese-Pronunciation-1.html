<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å­—éŸ³å¤§å¸« (æ˜“æ··æ·†å­—éŸ³ç‰ˆ)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Import Map for React & Firebase -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18/?dev",
            "react-dom/client": "https://esm.sh/react-dom@18/client/?dev",
            "firebase/app": "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"
        }
    }
    </script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* åŸºç¤è¨­å®š */
        body { 
            font-family: "Noto Sans TC", "Microsoft JhengHei", system-ui, sans-serif; 
            -webkit-font-smoothing: antialiased;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-color: #fcf9f2;
        }
        
        /* æ³¨éŸ³å­—é«”å„ªåŒ– */
        .bopomofo {
            font-family: "BpmfGen", "HanWangMingMedium", system-ui, sans-serif;
        }

        /* æ²è»¸ç¾åŒ– */
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); }
        ::-webkit-scrollbar-thumb { background: #d4c4a8; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #b09b7c; }
        
        /* å‹•ç•«å®šç¾© */
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        .animate-pop { animation: pop 0.3s ease-in-out; }
        
        @keyframes fade-in-up { 
            0% { opacity: 0; transform: translateY(20px); } 
            100% { opacity: 1; transform: translateY(0); } 
        }
        .animate-fade-in-up { animation: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .animate-shake { animation: shake 0.4s ease-in-out; }
        
       /* è·‘é¦¬ç‡ˆå‹•ç•« */
        @keyframes marquee {
            0% { left: 100%; transform: translateX(0); }
            100% { left: 0; transform: translateX(-100%); }
        }
        .animate-marquee {
            animation: marquee 30s linear infinite; 
            white-space: nowrap;
            display: inline-block;
            position: absolute; 
            top: 50%;
            margin-top: -0.6em; 
        }

        /* åœ–ç‰‡å®¹å™¨äº’å‹• */
        .group-img:hover img { transform: scale(1.08); }
        
        /* ç¦æ­¢é¸å–æ–‡å­— */
        .no-select { user-select: none; -webkit-user-select: none; }

        /* è¡¨æ ¼éŸ¿æ‡‰å¼å„ªåŒ– */
        .table-container { overflow-x: auto; }
        .prose-table td, .prose-table th { white-space: pre-wrap; min-width: 120px; }
        
        /* éŸ³é‡æ»‘æ¡¿è‡ªè¨‚æ¨£å¼ */
        .volume-slider {
            -webkit-appearance: none;
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            outline: none;
        }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #FF8800;
            cursor: pointer;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
            transition: transform 0.1s;
        }
        .volume-slider::-webkit-slider-thumb:hover { transform: scale(1.2); }

        /* é›²ç«¯ç‹€æ…‹ç‡ˆè™Ÿ */
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .status-loading { background-color: #fbbf24; animation: pulse 1.5s infinite; }
        .status-success { background-color: #22c55e; }
        .status-error { background-color: #ef4444; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* åˆ—å°å°ˆç”¨æ¨£å¼ */
        @media print {
            @page {
                size: A4 portrait;
                margin: 0; /* æ§åˆ¶ç”± CSS è™•ç† */
            }
            body {
                background: white;
                margin: 0;
                padding: 0;
            }
            body * {
                visibility: hidden;
            }
            #print-area, #print-area * {
                visibility: visible;
            }
            #print-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm; /* A4 width */
                font-family: "æ¨™æ¥·é«”", "DFKai-SB", serif;
            }
            .a4-page {
                width: 210mm;
                height: 297mm; /* A4 height */
                padding: 20mm;
                page-break-after: always;
                position: relative;
                overflow: hidden;
                background: white;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo, useRef, useImperativeHandle, forwardRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { initializeApp } from 'firebase/app';
        import { getFirestore, doc, collection, onSnapshot, setDoc, updateDoc, arrayUnion, arrayRemove, getDoc } from 'firebase/firestore';
        import { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';

        // ==========================================
        //  Firebase è¨­å®š (è«‹å¡«å…¥æ‚¨çš„ Key)
        // ==========================================
        const firebaseConfig = {
            apiKey: "AIzaSyAxQFt76ZPXE7d0i1XeNZ1yiiD2WYNIfHs",
            authDomain: "chinese-learning-47f4d.firebaseapp.com",
            projectId: "chinese-learning-47f4d",
            storageBucket: "chinese-learning-47f4d.firebasestorage.app",
            messagingSenderId: "76289812052",
            appId: "1:76289812052:web:898384a916f9f341f62fc1"
        };

        // Firebase Initialization
        let db;
        let auth;
        let isFirebaseInitialized = false;

        try {
            if (firebaseConfig.apiKey !== "YOUR_API_KEY") {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                isFirebaseInitialized = true;
            }
        } catch (error) {
            console.error("Firebase Init Error:", error);
        }

        // ==========================================
        //  å¸¸æ•¸èˆ‡è³‡æ–™
        // ==========================================
        const COLLECTION_NAME = 'Pronunciation_Character_1'; 
        const DOC_GLOBAL = 'global_users';
        const MUSIC_CONFIG = { username: 'nicktsai88', repo: 'Music', folder: '' };
        const ITEMS_PER_PAGE = 20; // ä¾ç…§éœ€æ±‚èª¿æ•´ç‚º 20 é¡Œä¸€é—œ

        // --- åŸå§‹å­—éŸ³è³‡æ–™ (Raw Data) ---
        const RAW_DATA = [
            [1, "ä»è³€", "ä»", "ã„Šã„¨ã„¥ËŠ", "ã„Šã„¨ã„¥ËŠ ã„ã„œË‹", "ã€ŒåŒã€çš„å¤å­—ã€‚å…±åŒç¥è³€ã€‚", "æ–°æ˜¥ä½³ç¯€ï¼Œå…¨é«”å“¡å·¥ä»è³€æ–°ç¦§ã€‚", "ä¸€ç¾¤ç©¿è‘—å–œæ…¶å‚³çµ±æœé£¾çš„äººå€‘ï¼Œé›™æ‰‹æŠ±æ‹³äº’ç›¸è¡Œç¦®ç¥è³€ï¼ŒèƒŒæ™¯å……æ»¿ç¯€æ…¶æ°£æ°›èˆ‡ç´…è‰²è£é£¾ã€‚"],
            [2, "å‚­äºº", "å‚­", "ã„©ã„¥", "ã„©ã„¥ ã„–ã„£ËŠ", "å—åƒ±ç”¨çš„äººã€‚â˜… è®€éŸ³æ˜“æ··æ·†ã€‚ã„©ã„¥ï¼šå—åƒ±è€…ï¼›ã„©ã„¥Ë‹ï¼šä½£é‡‘ã€‚", "é€™æˆ¶äººå®¶è«‹äº†ä¸€ä½å‚­äººä¾†å¹«å¿™æ‰“ç†å®¶å‹™ã€‚", "ä¸€ä½ç©¿è‘—ç°¡æ¨¸å·¥ä½œæœçš„äººæ­£åœ¨å¤§å®…é™¢è£¡å‹¤å¥®åœ°æ“¦æ‹­èŠ±ç“¶ï¼Œç¥æƒ…å°ˆæ³¨ã€‚"],
            [3, "èƒ¸è„¯", "è„¯", "ã„†ã„¨ËŠ", "ã„’ã„©ã„¥ ã„†ã„¨ËŠ", "èƒ¸éƒ¨ã€‚éã€Œã„ˆã„¨Ë‡ã€ã€‚", "ä»–æ‹æ‹èƒ¸è„¯ï¼Œä¿è­‰ä¸€å®šæœƒå®Œæˆä»»å‹™ã€‚", "ä¸€ä½é‹å‹•å“¡è‡ªä¿¡åœ°æŒºèµ·èƒ¸è†›ï¼Œåšæ·±å‘¼å¸çš„å‹•ä½œï¼ŒèƒŒæ™¯æ˜¯æ¸…æ™¨çš„å…¬åœ’ï¼Œé™½å…‰ç‘è½ã€‚"],
            [4, "é­˜é­…", "é­˜", "ã„§ã„¢Ë‡", "ã„§ã„¢Ë‡ ã„‡ã„ŸË‹", "å¤¢ä¸­é©šé§­ã€‚ä»¥æ³•è¡“å®³äººã€‚", "å‚³èªªä¸­é­˜é­…ä¹‹è¡“å¯ä»¥è¿·æƒ‘äººå¿ƒã€‚", "ä¸€å€‹ç¡åœ¨åºŠä¸Šçš„äººçœ‰é ­æ·±é–ï¼Œå½·å½¿åœ¨åšæƒ¡å¤¢ï¼ŒåºŠé‚Šæœ‰æ¨¡ç³Šçš„é»‘è‰²å½±å­è±¡å¾µå¤¢é­˜ã€‚"],
            [5, "åš·åš·", "åš·", "ã„–ã„¤Ë‡", "ã„–ã„¤Ë‡ Ë™ã„–ã„¤", "å¤§è²å–§è­ã€‚", "åˆ¥åœ¨åœ–æ›¸é¤¨è£¡åš·åš·ï¼Œæœƒåµåˆ°åˆ¥äººã€‚", "ä¸€å€‹ç†±é¬§çš„å¸‚å ´æ™¯åƒï¼Œä¸€ä½æ”¤è²©å¼µå¤§å˜´å·´å¤§è²å«è³£ï¼Œè¡¨æƒ…ç”Ÿå‹•èª‡å¼µï¼Œå‘¨åœäººç¾¤ç†™æ”˜ã€‚"],
            [6, "ç¥çœ¼", "ç¥", "ã„†ã„§ã„", "ã„†ã„§ã„ ã„§ã„¢Ë‡", "ç›®å…‰çŸ­æš«æ éã€‚", "ä»–ç¥çœ¼çœ‹äº†ä¸€ä¸‹æ‰‹éŒ¶ï¼Œç™¼ç¾æ™‚é–“ä¸æ—©äº†ã€‚", "ä¸€ä½å­¸ç”Ÿååœ¨èª²æ¡Œå‰ï¼Œçœ¼ç›å¾®å¾®æ–œè¦–ï¼Œç”¨çœ¼è§’é¤˜å…‰å¿«é€Ÿçœ‹åƒæ—é‚Šï¼Œç¥æƒ…æ©Ÿéˆã€‚"],
            [7, "å˜€å’•", "å˜€", "ã„‰ã„§ËŠ", "ã„‰ã„§ËŠ Ë™ã„ã„¨", "ä½è²èªªè©±ã€‚å½¢å®¹å¿ƒè£¡å¿å¿‘ä¸å®‰ã€‚", "ä»–ä¸€å€‹äººåœ¨è§’è½è£¡å˜€å’•ï¼Œä¸çŸ¥åœ¨èªªäº›ä»€éº¼ã€‚", "å…©å€‹äººæ¹Šå¾—å¾ˆè¿‘ï¼Œå…¶ä¸­ä¸€äººç”¨æ‰‹é®è‘—å˜´å·´å°è²èªªè©±ï¼Œå¦ä¸€äººå´è€³å‚¾è½ï¼Œè¡¨æƒ…ç¥ç§˜ã€‚"],
            [8, "ç´®å¯¦", "ç´®", "ã„“ã„š", "ã„“ã„š ã„•ËŠ", "ç‰¢å›ºã€å¯¦åœ¨ã€‚", "ä»–çš„åŸºæœ¬åŠŸéå¸¸ç´®å¯¦ï¼Œæ‰€ä»¥å­¸å¾—å¾ˆå¿«ã€‚", "ä¸€ä½å·¥åŒ æ­£åœ¨å †ç ŒçŸ³ç‰†ï¼ŒçŸ³å¡Šå †ç–Šå¾—éå¸¸ç·Šå¯†ç©©å›ºï¼Œå±•ç¾å‡ºå …å›ºè€ç”¨çš„æ„Ÿè¦ºã€‚"],
            [9, "çµ¹ç¶¢", "çµ¹", "ã„ã„©ã„¢Ë‹", "ã„ã„©ã„¢Ë‹ ã„”ã„¡ËŠ", "çµ²ç¹”å“çš„é€šç¨±ã€‚", "é€™å¡Šçµ¹ç¶¢è³ªåœ°ç´°ç·»ï¼Œåƒ¹æ ¼ä¸æ–ã€‚", "ä¸€åŒ¹æŸ”é †å…‰æ»‘çš„çµ²ç¶¢å¸ƒæ–™åœ¨ç©ºä¸­é£„æšï¼Œè³ªåœ°ç´°ç·»åå…‰ï¼Œæ—é‚Šæœ‰ä¸€ä½è£ç¸«å¸«æ­£åœ¨æ’«æ‘¸å¸ƒæ–™ã€‚"],
            [10, "ç“Šè‘©", "è‘©", "ã„†ã„š", "ã„‘ã„©ã„¥ËŠ ã„†ã„š", "ç¾éº—çš„èŠ±æœµã€‚", "èŠ±åœ’è£¡ç“Šè‘©åè±”ï¼Œç¾ä¸å‹æ”¶ã€‚", "ä¸€æœµæƒ³åƒä¸­æ¥µç‚ºç¾éº—ã€æ™¶ç‘©å‰”é€çš„èŠ±æœµç››é–‹åœ¨ä»™å¢ƒèˆ¬çš„åº­åœ’ä¸­ï¼Œæ•£ç™¼å…‰èŠ’ã€‚"],
            [11, "è¦ç®´", "ç®´", "ã„“ã„£", "ã„ã„¨ã„Ÿ ã„“ã„£", "è¦å‹¸ã€å‹¸å‘Šã€‚", "æœ‹å‹çš„è¦ç®´é›–ç„¶é€†è€³ï¼Œå»æ˜¯ç‚ºäº†ä½ å¥½ã€‚", "ä¸€ä½æ…ˆç¥¥çš„é•·è€…æ‹¿è‘—æ›¸å·ï¼Œæ­£èªé‡å¿ƒé•·åœ°å°ä¸€ä½å¹´è¼•äººçµ¦äºˆå»ºè­°ï¼Œæ°£æ°›æº«å’ŒèŠé‡ã€‚"],
            [12, "ç¢‘ç¢£", "ç¢£", "ã„ã„§ã„ËŠ", "ã„…ã„Ÿ ã„ã„§ã„ËŠ", "åœ“é ‚çš„çŸ³ç¢‘ã€‚ï¼ˆæ–¹è€…ç‚ºç¢‘ï¼Œåœ“è€…ç‚ºç¢£ï¼‰ã€‚", "é€™å¡Šå¤è€çš„ç¢‘ç¢£ä¸Šè¨˜éŒ„è‘—ç•¶åœ°çš„æ­·å²ã€‚", "ä¸€å¡Šå¤è€ä¸”ä½ˆæ»¿é’è‹”çš„çŸ³ç¢‘çŸ—ç«‹åœ¨è’ç…™æ¼«è‰ä¸­ï¼ŒçŸ³ç¢‘é€ å‹å¤æ¨¸è’¼å‹ï¼Œå¸¶æœ‰æ­·å²æ»„æ¡‘æ„Ÿã€‚"],
            [13, "èšŠèš‹", "èš‹", "ã„–ã„¨ã„ŸË‹", "ã„¨ã„£ËŠ ã„–ã„¨ã„ŸË‹", "èšŠé¡å®³èŸ²ã€‚", "å¤æ—¥å‚æ™šï¼Œè‰å¢é–“èšŠèš‹æˆç¾¤ï¼Œè¦å°å¿ƒå®å’¬ã€‚", "å¤æ—¥å‚æ™šçš„æ¨¹ä¸‹ï¼Œä¸€å¤§ç¾¤ç´°å°çš„é£›èŸ²èšé›†æˆåœ˜åœ¨ç©ºä¸­é£›èˆï¼ŒèƒŒæ™¯æ˜¯å¤•é™½ã€‚"],
            [14, "å‰µç—•", "å‰µ", "ã„”ã„¨ã„¤", "ã„”ã„¨ã„¤ ã„ã„£ËŠ", "â˜… ã„”ã„¨ã„¤ï¼šå‚·å£ï¼›ã„”ã„¨ã„¤Ë‹ï¼šé–‹å§‹ã€‚æ­¤æŒ‡å‚·å£ã€‚", "æˆ°çˆ­åœ¨äººå€‘å¿ƒä¸­ç•™ä¸‹äº†é›£ä»¥æŠ¹æ»…çš„å‰µç—•ã€‚", "ä¸€å€‹èˆŠæœ¨æ¡Œçš„è¡¨é¢ä¸Šæœ‰å¹¾é“æ·±åˆ»çš„åˆ®ç—•å’Œä¿®è£œéçš„ç—•è·¡ï¼Œè±¡å¾µæ­²æœˆçš„æ­·ç·´ã€‚"],
            [15, "æ…§é» ", "é» ", "ã„’ã„§ã„šËŠ", "ã„ã„¨ã„ŸË‹ ã„’ã„§ã„šËŠ", "è°æ…§éˆæ•ã€‚", "å¥¹é‚£é›™æ…§é» çš„çœ¼ç›ï¼Œå½·å½¿çœ‹é€äº†ä¸€åˆ‡ã€‚", "ä¸€å€‹è°æ˜ä¼¶ä¿çš„å°å­©ï¼Œçœ¼ç›äº®æ™¶æ™¶çš„ï¼Œå˜´è§’å¸¶è‘—æ©Ÿæ™ºçš„å¾®ç¬‘ï¼Œå½·å½¿æƒ³åˆ°äº†å¥½é»å­ã€‚"],
            [16, "æ’®å¼„", "æ’®", "ã„˜ã„¨ã„›Ë‹", "ã„˜ã„¨ã„›Ë‹ ã„‹ã„¨ã„¥Ë‹", "æˆ²å¼„ã€æ“ºä½ˆã€‚è®€ ã„˜ã„¨ã„›Ë‹ æ™‚å«æ„è¼ƒå¤šï¼Œé‡è©æ™‚è®€ ã„—ã„¨ã„›Ë‡ã€‚", "ä»–å–œæ­¡æ’®å¼„åˆ¥äººï¼Œå¸¸æƒ¹å¾—å¤§å®¶å“­ç¬‘ä¸å¾—ã€‚", "ä¸€å€‹äººåœ¨å¹•å¾Œç”¨æ‰‹æ“ç¸±è‘—æœ¨å¶æˆ²çš„çµ²ç·šï¼Œå¸¶æœ‰æ“ç¸±èˆ‡æ“ºå¸ƒçš„æ„è±¡ã€‚"],
            [17, "ç¿æ¯›", "ç¿", "ã„Œã„§ã„¥ËŠ", "ã„Œã„§ã„¥ËŠ ã„‡ã„ ËŠ", "é³¥é¡çš„ç¾½æ¯›ã€‚æŒ‡åœ‹ç•«ä¸­ç•«é³¥ç¸çš„æŠ€æ³•ã€‚", "é€™ä½ç•«å®¶çš„ç¿æ¯›ç•«å¾—æ ©æ ©å¦‚ç”Ÿã€‚", "ä¸€æ ¹è‰²å½©æ–‘æ–•ã€ç´‹è·¯ç´°ç·»çš„å­”é›€ç¾½æ¯›ç‰¹å¯«ï¼Œå…‰æ¾¤äº®éº—ï¼ŒèƒŒæ™¯ç°¡å–®ä¹¾æ·¨ã€‚"],
            [18, "ç™½è˜‹", "è˜‹", "ã„†ã„§ã„£ËŠ", "ã„…ã„ËŠ ã„†ã„§ã„£ËŠ", "æ¤ç‰©åã€‚", "ç™½è˜‹é¢¨èµ·ï¼Œç§‹æ„æ¼¸æ¿ƒã€‚", "æ°´é‚Šç”Ÿé•·è‘—è¨±å¤šç™½è‰²çš„æ°´è‰æ¤ç‰©ï¼Œéš¨è‘—æ°´æ³¢ç›ªæ¼¾ï¼Œç•«é¢æ¸…å¹½é›…è‡´ã€‚"],
            [19, "æ«ºè»’", "æ«º", "ã„Œã„§ã„¥ËŠ", "ã„Œã„§ã„¥ËŠ ã„’ã„©ã„¢", "æœ‰çª—æ ¼é—Œå¹²çš„å°å®¤æˆ–é•·å»Šã€‚", "åº­é™¢ä¸­çš„æ«ºè»’ï¼Œæ˜¯å¤äººè®€æ›¸å“èŒ—çš„å¥½åœ°æ–¹ã€‚", "å¤å…¸å»ºç¯‰çš„çª—æ ¼å­ï¼Œé™½å…‰é€éç²¾ç·»é›•èŠ±çš„æœ¨çª—ç‘å…¥å®¤å…§ï¼Œå…‰å½±äº¤éŒ¯ã€‚"],
            [20, "ç³é£¯", "ç³", "ã„™ã„¢Ë‡", "ã„™ã„¢Ë‡ ã„ˆã„¢Ë‹", "ä»¥ç±³å’Œç¾¹ã€‚", "å¤äººç”Ÿæ´»ç°¡æ¨¸ï¼Œå¸¸ä»¥è—œç¾¹ç³é£¯åº¦æ—¥ã€‚", "ä¸€é›™æ‰‹å°‡ç´°ç¢çš„é‡èœæˆ–è‚‰æœ«æ’’åœ¨ä¸€ç¢—ç†±é¨°é¨°çš„ç±³é£¯ä¸Šï¼Œçœ‹èµ·ä¾†æ¨¸å¯¦ç¾å‘³ã€‚"],
            [21, "å·‰å²©", "å·‰", "ã„”ã„¢ËŠ", "ã„”ã„¢ËŠ ã„§ã„¢ËŠ", "éšªå³»çš„å±±å²©ã€‚", "ç™»å±±éšŠä¼å°å¿ƒç¿¼ç¿¼åœ°æ”€ééšªæƒ¡çš„å·‰å²©ã€‚", "ä¸€åº§é«˜è³éšªå³»çš„å±±å³°ï¼Œå²©çŸ³å½¢ç‹€å°–éŠ³æ€ªç•°ï¼Œæ°£å‹¢ç£…ç¤¡ï¼Œé›²éœ§ç¹šç¹ã€‚"],
            [22, "è§šç¨œ", "è§š", "ã„ã„¨", "ã„ã„¨ ã„Œã„¥ËŠ", "å®®æ®¿å±‹è„Šçš„è½‰è§’è™•ã€‚", "å¤•é™½æ˜ ç…§è‘—å®®æ®¿çš„è§šç¨œï¼Œé‡‘å…‰é–ƒé–ƒã€‚", "å¤ä»£å®®æ®¿å»ºç¯‰å±‹é ‚è½‰è§’è™•çš„ç¨œè§’ï¼Œç·šæ¢å„ªç¾ä¸”çµæ§‹è¤‡é›œï¼ŒèƒŒæ™¯æ˜¯è—å¤©ã€‚"],
            [23, "è’¼ç©¹", "ç©¹", "ã„‘ã„©ã„¥", "ã„˜ã„¤ ã„‘ã„©ã„¥", "ä¸Šè’¼ã€å¤©ç©ºã€‚", "è€é·¹åœ¨è’¼ç©¹ä¸­å±•ç¿…ç¿±ç¿”ã€‚", "å»£é—Šç„¡é‚Šçš„è”šè—å¤©ç©ºï¼Œå¹¾æœµç™½é›²é»ç¶´ï¼Œç•«é¢é–‹é—Šä»¤äººå¿ƒæ› ç¥æ€¡ã€‚"],
            [24, "èˆè¹ˆ", "èˆ", "ã„¨Ë‡", "ã„¨Ë‡ ã„‰ã„ Ë‹", "æ‰‹èˆè¶³è¹ˆã€‚è¡¨æ¼”è—è¡“ã€‚", "å¥¹å¾å°å­¸ç¿’èˆè¹ˆï¼Œèº«æ®µéå¸¸å„ªç¾ã€‚", "ä¸€ä½èˆè€…ç©¿è‘—é£„é€¸çš„èˆè¡£ï¼Œåœ¨èˆå°ä¸Šåšå‡ºå„ªç¾çš„æ—‹è½‰è·³èºå‹•ä½œï¼Œå§¿æ…‹è¼•ç›ˆã€‚"],
            [25, "èš±èœ¢", "èœ¢", "ã„‡ã„¥Ë‡", "ã„“ã„šË‹ ã„‡ã„¥Ë‡", "æ˜†èŸ²åã€‚", "è‰å¢è£¡è·³å‡ºä¸€éš»ç¿ ç¶ çš„èš±èœ¢ã€‚", "ä¸€éš»ç¶ è‰²çš„èš±èœ¢åœåœ¨è‰è‘‰å°–ç«¯ï¼ŒèƒŒæ™¯æ˜¯æ¨¡ç³Šçš„è‰åœ°ï¼Œç•«é¢å……æ»¿æ˜†èŸ²ç”Ÿæ…‹è¶£ã€‚"],
            [26, "æ˜Ÿå®¿", "å®¿", "ã„’ã„§ã„¡Ë‹", "ã„’ã„§ã„¥ ã„’ã„§ã„¡Ë‹", "â˜… ã„’ã„§ã„¡Ë‹ï¼šæ˜Ÿåº§ï¼›ã„™ã„¨Ë‹ï¼šä½å®¿ã€‚", "å¤ä»£å¤©æ–‡å­¸å®¶å°‡æ˜Ÿç©ºåŠƒåˆ†ç‚ºäºŒåå…«æ˜Ÿå®¿ã€‚", "å¤œç©ºä¸­ä½ˆæ»¿äº†ç’€ç’¨çš„æ˜Ÿæ˜Ÿï¼Œå¹¾é¡†ç‰¹åˆ¥äº®çš„æ˜Ÿæ˜Ÿé€£æˆäº†æ˜Ÿåº§çš„å½¢ç‹€ï¼Œç¥ç¥•è€Œå¯§éœã€‚"],
            [27, "ç²—ç·", "ç·", "ã„ã„¨ã„¤Ë‡", "ã„˜ã„¨ ã„ã„¨ã„¤Ë‡", "è±ªå£¯ã€è±ªæ”¾ã€‚éã€Œæ› ã€ã€‚", "ä»–çš„ç•«é¢¨ç²—ç·è±ªé‚ï¼Œç¨å…·ä¸€æ ¼ã€‚", "ä¸€ä½ç•™è‘—é¬é¬šã€è‚Œè‚‰çµå¯¦çš„ç”·å­ï¼Œç©¿è‘—é‡å¤–æ¢éšªçš„æœè£ï¼Œç¥æƒ…è±ªé‚ä¸æ‹˜å°ç¯€ã€‚"],
            [28, "è¹ºå®¶", "è¹º", "ã„‘ã„§ã„ ", "ã„‘ã„§ã„  ã„ã„§ã„š", "é›¢å®¶å‡ºèµ°ã€‚", "é’å°‘å¹´å›é€†æœŸå®¹æ˜“æœ‰è¹ºå®¶çš„å¿µé ­ã€‚", "ä¸€å€‹æ¹è‘—èƒŒåŒ…çš„é’å°‘å¹´ï¼Œåœ¨é»ƒæ˜æ™‚åˆ»ç¨è‡ªèµ°åœ¨é›¢å®¶é å»çš„è·¯ä¸Šï¼ŒèƒŒå½±é¡¯å¾—æœ‰äº›å­¤å–®èˆ‡å€”å¼·ã€‚"],
            [29, "è •å‹•", "è •", "ã„–ã„¨ËŠ", "ã„–ã„¨ËŠ ã„‰ã„¨ã„¥Ë‹", "ç·©æ…¢ç§»å‹•ã€‚", "èš¯èš“åœ¨æ³¥åœŸä¸­ç·©ç·©è •å‹•ã€‚", "ä¸€éš»æ¯›æ¯›èŸ²åœ¨æ¨¹è‘‰ä¸Šæ‹±èµ·èº«é«”ç·©æ…¢çˆ¬è¡Œï¼Œå±•ç¾æŸ”è»Ÿä¸”ç·©æ…¢ç§»å‹•çš„æ¨£å­ã€‚"],
            [30, "é‡ç¸", "ç¸", "ã„ã„§ã„¡Ë‡", "ã„“ã„£ ã„ã„§ã„¡Ë‡", "ä¸­é†«ç™‚æ³•ã€‚", "é‡ç¸å¯ä»¥é€šç¶“æ´»çµ¡ï¼Œèˆ’ç·©ç–¼ç—›ã€‚", "ä¸€ä½ä¸­é†«å¸«å°ˆæ³¨åœ°å°‡ç´°é‡è¼•è¼•åˆºå…¥ç—…äººçš„ç©´é“ï¼ŒèƒŒæ™¯æ˜¯å‚³çµ±ä¸­è—¥æˆ¿ã€‚"],
            [31, "å“€æ‚¼", "æ‚¼", "ã„‰ã„ Ë‹", "ã„ ã„‰ã„ Ë‹", "æ‚²å‚·æ‚¼å¿µã€‚", "å…¨åœ‹äººæ°‘ç‚ºåœ°éœ‡ä¸­çš„ç½¹é›£è€…å“€æ‚¼ã€‚", "ç©¿è‘—é»‘è‰²å–ªæœçš„äººå€‘ä½é ­é»˜å“€ï¼Œæ‰‹æŒç™½è‰²èŠ±æœµï¼Œæ°£æ°›èŠåš´è‚…ç©†ã€‚"],
            [32, "çµ¢çˆ›", "çˆ›", "ã„’ã„©ã„¢Ë‹", "ã„’ã„©ã„¢Ë‹ ã„Œã„¢Ë‹", "å…‰å½©å¥ªç›®ã€‚", "ç…™ç«åœ¨å¤œç©ºä¸­ç¶»æ”¾ï¼Œçµ¢çˆ›ç„¡æ¯”ã€‚", "æ¼†é»‘å¤œç©ºä¸­ç¶»æ”¾è‘—äº”é¡å…­è‰²ç››å¤§çš„ç…™ç«ï¼Œç…§äº®äº†åœ°é¢è§€è³çš„äººç¾¤ï¼Œè‰²å½©æ¥µåº¦è±å¯Œé£½å’Œã€‚"],
            [33, "æŠ˜é¨°", "é¨°", "Ë™ã„Šã„¥", "ã„“ã„œ Ë™ã„Šã„¥", "ç¿»ä¾†è¦†å»ã€‚å¼•ç”³ç‚ºæŠ˜ç£¨ã€‚", "ç—…ç—›æŠŠä»–æŠ˜é¨°å¾—ç˜¦äº†ä¸€å¤§åœˆã€‚", "ä¸€å€‹äººåœ¨åºŠä¸Šç¿»ä¾†è¦†å»ç¡ä¸è‘—ï¼Œæ£‰è¢«äº‚æˆä¸€åœ˜ï¼Œè¡¨æƒ…é¡¯å¾—ç–²æ†Šåˆç…©èºã€‚"],
            [34, "æŒæ“", "æ“", "ã„•ã„ ËŠ", "ã„“ã„¤Ë‡ ã„•ã„ ËŠ", "æŒç®¡å»šæˆ¿çƒ¹é£ªä¹‹äº‹ã€‚", "ä»Šå¤©çš„å®´å¸­ç”±è‘—åçš„å¤§å»šè¦ªè‡ªæŒæ“ã€‚", "ä¸€ä½å¤§å»šæ‰‹æ¡å·¨å¤§çš„ç‚’é‹æ“å­ï¼Œåœ¨å……æ»¿ç«æ°£çš„å»šæˆ¿è£¡æŒ‡æ®è‹¥å®šåœ°çƒ¹é£ªã€‚"],
            [35, "æ•´é£­", "é£­", "ã„”Ë‹", "ã„“ã„¥Ë‡ ã„”Ë‹", "æ•´é “ã€‚", "æ–°ä»»å±€é•·ä¸Šä»»å¾Œï¼Œå¤§åŠ›æ•´é£­è­¦ç´€ã€‚", "ä¸€ä½è»å®˜æ­£åœ¨æ•´ç†éšŠä¼ï¼Œå£«å…µå€‘æ’åˆ—å¾—æ•´æ•´é½Šé½Šï¼Œåˆ¶æœç­†æŒºï¼Œå±•ç¾ç´€å¾‹åš´æ˜ã€‚"],
            [36, "å°ˆæ©«", "æ©«", "ã„ã„¥Ë‹", "ã„“ã„¨ã„¢ ã„ã„¥Ë‹", "â˜… ã„ã„¥Ë‹ï¼šè »ä¸è¬›ç†ï¼›ã„ã„¥ËŠï¼šæ°´å¹³ã€‚", "ä»–ä½œé¢¨å°ˆæ©«ï¼Œè½ä¸é€²éƒ¨å±¬çš„æ„è¦‹ã€‚", "ä¸€å€‹ç©¿è‘—è¯éº—çš„äººæŒ‡æ‰‹ç•«è…³ï¼Œæ…‹åº¦å‚²æ…¢åœ°å‘½ä»¤å‘¨åœä½é ­çš„äººï¼Œå±•ç¾éœ¸é“çš„æ¨£å­ã€‚"],
            [37, "çŸ‡é¨™", "çŸ‡", "ã„‡ã„¥", "ã„‡ã„¥ ã„†ã„§ã„¢Ë‹", "æ¬ºé¨™ã€‚ã„‡ã„¥ï¼šæ¬ºé¨™ï¼›ã„‡ã„¥ËŠï¼šç„¡çŸ¥/è’™è”½ã€‚", "ä»–ç”¨è¬Šè¨€çŸ‡é¨™äº†æ‰€æœ‰äººï¼Œä½†çµ‚ç©¶æœƒè¢«æ‹†ç©¿ã€‚", "ä¸€å€‹é­”è¡“å¸«æ‰“æ‰®çš„äººç”¨å¸ƒè“‹ä½æ±è¥¿ï¼Œè‡‰ä¸Šå¸¶è‘—ç‹¡çŒ¾çš„ç¬‘å®¹ï¼Œä¼¼ä¹åœ¨éš±è—çœŸç›¸æ¬ºé¨™è§€çœ¾ã€‚"],
            [38, "æ‹—èŠ±", "æ‹—", "ã„ Ë‡", "ã„ Ë‡ ã„ã„¨ã„š", "æŠ˜æ–·èŠ±æœµã€‚", "è«‹å‹¿éš¨æ„æ‹—èŠ±ï¼Œæ„›è­·å…¬åœ’çš„ä¸€è‰ä¸€æœ¨ã€‚", "ä¸€é›™æ‰‹æ­£åœ¨å°‡æŸ”è»Ÿçš„èŠ±æå½æ›²æˆç‰¹å®šçš„é€ å‹ï¼Œé€²è¡ŒèŠ±è—å‰µä½œï¼Œå‹•ä½œç´°è†©ã€‚"],
            [39, "æŒ‡æ‹­", "æ‹­", "ã„•Ë‹", "ã„“Ë‡ ã„•Ë‹", "ç”¨æ‰‹æŒ‡æ“¦æ‹­ã€‚", "ä»–è¼•è¼•æŒ‡æ‹­å»çœ¼è§’çš„æ·šæ°´ã€‚", "ä¸€å€‹äººç”¨æ‰‹æŒ‡è¼•è¼•æ“¦å»çœ¼è§’çš„æ·šæ°´ï¼Œå‹•ä½œæº«æŸ”ä¸”å¸¶é»æ„Ÿå‚·ã€‚"],
            [40, "ä¹¾å™", "å™", "ã„§ã„", "ã„ã„¢ ã„§ã„", "é£Ÿç‰©å¡ä½å–‰åš¨ã€‚å¼•ç”³ç‚ºèªªä¸å‡ºè©±ã€‚", "é¥…é ­å¤ªä¹¾ï¼Œåƒå¾—ä»–ç›´ä¹¾å™ã€‚", "ä¸€å€‹äººå¤§å£åƒé¥…é ­ï¼Œè¡¨æƒ…ç—›è‹¦åœ°æ‹è‘—èƒ¸å£ï¼Œåƒæ˜¯é£Ÿç‰©å¡åœ¨å–‰åš¨åä¸ä¸‹å»ã€‚"],
            [41, "ä¸‹é ¦", "é ¦", "ã„ã„ËŠ", "ã„’ã„§ã„šË‹ ã„ã„ËŠ", "ä¸‹å·´ã€‚éã€Œã„ã„œã€ã€‚", "ä»–æ‘¸è‘—ä¸‹é ¦ï¼Œé™·å…¥äº†æ²‰æ€ã€‚", "ä¸€å¼µè‡‰çš„ç‰¹å¯«ï¼Œå¼·èª¿ä¸‹å·´ï¼ˆä¸‹é ¦ï¼‰çš„è¼ªå»“ï¼Œæ‰‹æ‰˜è‘—ä¸‹å·´æ­£åœ¨æ€è€ƒçš„æ¨£å­ã€‚"],
            [42, "ç¾Œäºº", "ç¾Œ", "ã„‘ã„§ã„¤", "ã„‘ã„§ã„¤ ã„–ã„£ËŠ", "å¤ä»£æ—åã€‚", "ç¾Œäººä¸»è¦å±…ä½åœ¨ä¸­åœ‹è¥¿åŒ—åœ°å€ã€‚", "ç©¿è‘—å¤ä»£ç¾Œæ—å‚³çµ±æœé£¾çš„äººå€‘ï¼Œåœ¨å¹å¥ç¾Œç¬›ï¼ŒèƒŒæ™¯æ˜¯é«˜å±±è‰åŸã€‚"],
            [43, "æ—±æ¾‡", "æ¾‡", "ã„Œã„ Ë‹", "ã„ã„¢Ë‹ ã„Œã„ Ë‹", "ä¹¾æ—±èˆ‡æ°´ç½ã€‚", "æ°£å€™è®Šé·å°è‡´æ—±æ¾‡ç½å®³é »ç™¼ã€‚", "ç•«é¢å°æ¯”ï¼šå·¦é‚Šæ˜¯é¾œè£‚ä¹¾æ—±çš„åœŸåœ°ï¼Œå³é‚Šæ˜¯æ·¹æ°´çš„è¾²ç”°ï¼Œè±¡å¾µæ¥µç«¯çš„æ°£å€™ç½å®³ã€‚"],
            [44, "å‡±æ’’", "æ’’", "ã„™ã„š", "ã„ã„Ë‡ ã„™ã„š", "ç¾…é¦¬æ”¿æ²»å®¶ã€‚éŸ³è­¯è©ã€‚", "å‡±æ’’å¤§å¸æ˜¯å¤ç¾…é¦¬çš„å‚³å¥‡äººç‰©ã€‚", "ä¸€ä½å­¸ç”Ÿåœ¨èˆå°åŠ‡ä¸­æ‰®æ¼”ç¾…é¦¬å¤§å¸å‡±æ’’ï¼Œç©¿è‘—ç´…è‰²æŠ«é¢¨èˆ‡æˆ´è‘—æ¡‚å† ï¼Œç¥æƒ…å¨åš´ã€‚"],
            [45, "å…—å·", "å…—", "ã„§ã„¢Ë‡", "ã„§ã„¢Ë‡ ã„“ã„¡", "å¤ä¹å·ä¹‹ä¸€ã€‚", "å…—å·ä½æ–¼ç¾åœ¨çš„ä¸­åœ‹å±±æ±çœã€‚", "å¤ä»£ä¸­åœ‹çš„åœ°åœ–æ¦‚å¿µç•«ï¼Œæ¨™ç¤ºå‡ºä¸€å¡Šå€åŸŸï¼ˆå…—å·ï¼‰ï¼Œå‘¨åœæœ‰åŸç‰†èˆ‡æ²³æµï¼Œé¢¨æ ¼å¤æ¨¸ã€‚"],
            [46, "è©°å•", "è©°", "ã„ã„§ã„ËŠ", "ã„ã„§ã„ËŠ ã„¨ã„£Ë‹", "è²¬å•ã€è¿½å•ã€‚", "å¾‹å¸«åœ¨æ³•åº­ä¸Šåš´å²è©°å•è­‰äººã€‚", "æ³•åº­å ´æ™¯ï¼Œä¸€ä½å¾‹å¸«åš´å²åœ°æŒ‡è‘—è­‰äººå¸­ä¸Šçš„äººç™¼å•ï¼Œæ°£æ°›ç·Šå¼µé€¼äººã€‚"],
            [47, "é›…ç¤±æ±Ÿ", "ç¤±", "ã„Œã„¨ã„¥ËŠ", "ã„§ã„šË‡ ã„Œã„¨ã„¥ËŠ ã„ã„§ã„¤", "æ°´åã€‚", "é›…ç¤±æ±Ÿæ˜¯é•·æ±Ÿçš„é‡è¦æ”¯æµã€‚", "ä¸€æ¢å¥”é¨°çš„æ²³æµæµç¶“æ·±é‚ƒçš„å³½è°·ï¼Œæ°´æµæ¹æ€¥ï¼Œå…©å²¸å±±å‹¢é™¡å³­ï¼Œå±•ç¾å¤§è‡ªç„¶çš„å£¯éº—ã€‚"],
            [48, "é¾”å…ˆç”Ÿ", "é¾”", "ã„ã„¨ã„¥", "ã„ã„¨ã„¥ ã„’ã„§ã„¢ ã„•ã„¥", "å§“æ°ã€‚", "é¾”å…ˆç”Ÿæ˜¯é€™æ–¹é¢çš„å°ˆå®¶ã€‚", "ä¸€ä½ç©¿è‘—ä¸­å±±è£æˆ–é•·è¢çš„æ–¯æ–‡ä¸­å¹´ç”·å­ï¼Œæˆ´è‘—çœ¼é¡ï¼Œæ‰‹è£¡æ‹¿è‘—æ›¸ï¼Œæ°£è³ªå„’é›…ã€‚"],
            [49, "æ‹¬ç´„è‚Œ", "æ‹¬", "ã„ã„¨ã„›Ë‹", "ã„ã„¨ã„›Ë‹ ã„©ã„ ã„ã„§", "è‚Œè‚‰åã€‚éã€Œã„ã„¨ã„šã€ã€‚", "é‹å‹•å¯ä»¥å¢å¼·æ‹¬ç´„è‚Œçš„åŠŸèƒ½ã€‚", "ç”Ÿç‰©æ•™å®¤çš„å ´æ™¯ï¼Œé»‘æ¿ä¸Šç•«è‘—äººé«”è‚Œè‚‰è§£å‰–åœ–ï¼Œç‰¹å¯«ä¸€å€‹ç’°ç‹€è‚Œè‚‰æ”¶ç¸®çš„ç¤ºæ„åœ–ã€‚"],
            [50, "å—‘ç“œå­", "å—‘", "ã„ã„œË‹", "ã„ã„œË‹ ã„ã„¨ã„š ã„—Ë‡", "å’¬é–‹ã€‚", "éå¹´æ™‚ï¼Œå¤§å®¶å–œæ­¡èšåœ¨ä¸€èµ·å—‘ç“œå­èŠå¤©ã€‚", "å¹¾å€‹äººåœååœ¨æ¡Œé‚Šé–’èŠï¼Œæ‰‹ä¸­æ‹¿è‘—ç“œå­æ”¾åœ¨å˜´é‚Šå’¬é–‹ï¼Œæ¡Œä¸Šæœ‰ä¸€å †ç“œå­æ®¼ï¼Œæ‚ é–’çš„æ¨£å­ã€‚"],
            [51, "è»‹é¦¬è·¯", "è»‹", "ã„§ã„šË‹", "ã„§ã„šË‹ ã„‡ã„šË‡ ã„Œã„¨Ë‹", "ã„§ã„šË‹ï¼šç¢¾å£“ï¼ˆå½¢å®¹é€›è¡—ï¼‰ï¼›ã„ã„šËŠï¼šè»‹æˆ²ï¼›ã„“ã„šï¼šè»‹é‹¼ã€‚", "å¹´è¼•äººå–œæ­¡é¨æ©Ÿè»Šåœ¨å¸‚å€è»‹é¦¬è·¯ã€‚", "ä¸€å°æƒ…ä¾¶æˆ–æœ‹å‹å€‘åœ¨å¯¬é—Šçš„æŸæ²¹é¦¬è·¯ä¸Šä¸¦è‚©æ•£æ­¥ï¼ŒèƒŒæ™¯æ˜¯åŸå¸‚è¡—æ™¯ï¼Œæ‚ é–’è‡ªåœ¨ã€‚"],
            [52, "å½å›å­", "å½", "ã„¨ã„ŸË‹", "ã„¨ã„ŸË‹ ã„ã„©ã„£ ã„—Ë‡", "å‡è£æ­£ç›´çš„äººã€‚ã„¨ã„ŸË‹ï¼šå‡çš„ï¼›ã„¨ã„ŸËŠï¼šåšã€‚", "ä»–è¡¨é¢ä»ç¾©ï¼Œå…¶å¯¦æ˜¯å€‹å½å›å­ã€‚", "ä¸€å€‹äººè¡¨é¢ä¸Šç©¿è‘—æ•´é½Šæ­£æ´¾ï¼Œæ‰‹è£¡æ‹¿è‘—ç¦®ç‰©ï¼Œä½†èƒŒå¾Œçš„é¡å­è£¡æ˜ ç…§å‡ºçš„å€’å½±å»æ˜¯é™°éšªçš„è¡¨æƒ…ã€‚"],
            [53, "é»ƒé¸é³¥", "é¸", "ã„Œã„§ËŠ", "ã„ã„¨ã„¤ËŠ ã„Œã„§ËŠ ã„‹ã„§ã„ Ë‡", "é³¥åã€‚", "é»ƒé¸é³¥åœ¨æ¨¹æ¢¢ä¸Šå”±è‘—æ‚…è€³çš„æ­Œã€‚", "å…©éš»é®®é»ƒè‰²çš„é»ƒé¸é³¥åœåœ¨ç¿ ç¶ çš„æŸ³æ¨¹æé ­ä¸Šï¼Œå˜´å·´å¼µé–‹åƒåœ¨å”±æ­Œï¼Œç•«é¢æ˜äº®ã€‚"],
            [54, "å¥½å§Šå¦¹", "å§Š", "ã„—Ë‡", "ã„ã„ Ë‡ ã„—Ë‡ ã„‡ã„ŸË‹", "æ„Ÿæƒ…å¾ˆå¥½çš„å¥³æ€§æœ‹å‹ã€‚", "å¥¹å€‘æ˜¯ç„¡è©±ä¸è«‡çš„å¥½å§Šå¦¹ã€‚", "å…©ä¸‰å€‹å¥³ç”Ÿæ‰‹å‹¾æ‰‹ç·Šé åœ¨ä¸€èµ·ï¼Œé–‹å¿ƒåœ°ç¬‘è‘—è‡ªæ‹æˆ–èŠå¤©ï¼Œå±•ç¾è¦ªå¯†å‹èª¼ã€‚"],
            [55, "ä¸‰ç¨œé¡", "ç¨œ", "ã„Œã„¥ËŠ", "ã„™ã„¢ ã„Œã„¥ËŠ ã„ã„§ã„¥Ë‹", "å…‰å­¸å„€å™¨ã€‚", "ä¸‰ç¨œé¡å¯ä»¥å°‡ç™½å…‰åˆ†è§£æˆä¸ƒç¨®é¡è‰²ã€‚", "ç†åŒ–å¯¦é©—å®¤æ¡Œä¸Šæ”¾è‘—ä¸€å€‹ä¸‰è§’ç»ç’ƒæŸ±ï¼Œä¸€é“å…‰æŸå°„å…¥ä¸¦æŠ˜å°„å‡ºä¸ƒå½©å½©è™¹å…‰è­œã€‚"],
            [56, "æºæŒ‡ç´‹", "æº", "ã„‹ã„šË‹", "ã„‹ã„šË‹ ã„“Ë‡ ã„¨ã„£ËŠ", "æŒ‰å£“ã€‚", "ç°½ç´„æ™‚è«‹åœ¨æ–‡ä»¶ä¸Šç°½åä¸¦æºæŒ‡ç´‹ã€‚", "ä¸€å€‹äººçš„æ‰‹æŒ‡æ²¾äº†ç´…è‰²å°æ³¥ï¼Œç”¨åŠ›æŒ‰å£“åœ¨ç™½ç´™ä¸Šï¼Œç•™ä¸‹æ¸…æ™°çš„æŒ‡ç´‹å°è¨˜ã€‚"],
            [57, "åå­—é¬", "é¬", "ã„ã„ Ë‡", "ã„•ËŠ ã„—Ë‹ ã„ã„ Ë‡", "æŒ–æ˜å·¥å…·ã€‚", "å·¥äººæ®å‹•åå­—é¬é–‹æŒ–è·¯é¢ã€‚", "ä¸€æŠŠåå­—é¬æ–œé åœ¨ç¤¦å‘å²©å£æ—ï¼Œæˆ–æ˜¯å·¥äººèˆ‰èµ·åå­—é¬æº–å‚™æŒ–æ˜çš„å‹•ä½œå®šæ ¼ã€‚"],
            [58, "ç„¡å˜é ­", "å˜", "ã„Œã„§ËŠ", "ã„¨ËŠ ã„Œã„§ËŠ ã„Šã„¡ËŠ", "è«åå…¶å¦™ã€‚", "é€™éƒ¨é›»å½±å……æ»¿äº†ç„¡å˜é ­çš„æç¬‘æƒ…ç¯€ã€‚", "ä¸€å€‹äººé ­ä¸Šæˆ´è‘—å¥‡æ€ªçš„é‹å­ï¼Œåšè‘—æ»‘ç¨½æç¬‘çš„é¬¼è‡‰å’Œå‹•ä½œï¼Œå‘¨åœæœ‰æ¼«ç•«å¼çš„é©šå˜†ç¬¦è™Ÿã€‚"],
            [59, "å¤§ä¸éŸ™", "éŸ™", "ã„¨ã„ŸË‡", "ã„‰ã„šË‹ ã„…ã„¨Ë‹ ã„¨ã„ŸË‡", "ç½ªéã€‚", "ä»–å†’å¤©ä¸‹ä¹‹å¤§ä¸éŸ™ï¼Œå …æŒæ¨è¡Œé€™é …æ”¿ç­–ã€‚", "ä¸€å€‹äººæ­£è¦åœ¨å¯«è‘—ã€Œç¦æ­¢é€²å…¥ã€çš„è‰åœ°ä¸Šè¸è¸ï¼Œæˆ–åšè‘—æ˜é¡¯é•åå¸¸ç†çš„å£äº‹ï¼Œå‘¨åœè·¯äººæŠ•ä»¥é©šæçœ¼å…‰ã€‚"],
            [60, "æ€§æƒ‡æ„š", "æƒ‡", "ã„‰ã„¨ã„£", "ã„’ã„§ã„¥Ë‹ ã„‰ã„¨ã„£ ã„©ËŠ", "æ•¦åšã€‚", "ä»–ç”Ÿæ€§æƒ‡æ„šï¼Œä¸æœƒç®—è¨ˆåˆ¥äººã€‚", "ä¸€å€‹æ¨¸å¯¦çš„æ‘æ°‘ï¼Œè‡‰ä¸Šå¸¶è‘—æ†¨åšçš„ç¬‘å®¹ï¼Œæ”è‘—é ­ï¼Œçœ‹èµ·ä¾†èª å¯¦ä½†ä¸å¤ªéˆå…‰çš„æ¨£å­ã€‚"],
            [61, "æ‰‹æ¡é•·éˆ‡", "éˆ‡", "ã„ˆã„¨", "ã„•ã„¡Ë‡ ã„¨ã„›Ë‹ ã„”ã„¤ËŠ ã„ˆã„¨", "é˜åˆ€ã€‚æ–§é ­ã€‚", "åŠŠå­æ‰‹æ‰‹æ¡é•·éˆ‡ï¼Œæº–å‚™è¡Œåˆ‘ã€‚", "ä¸€ä½å¤ä»£æ­¦å£«ï¼Œé›™æ‰‹ç·Šæ¡è‘—ä¸€æŠŠé•·æŸ„å¤§æ–§é ­ï¼Œå§¿å‹¢å¨æ­¦æº–å‚™æˆ°é¬¥ã€‚"],
            [62, "æ’‚åœ¨åœ°ä¸Š", "æ’‚", "ã„Œã„§ã„ Ë‹", "ã„Œã„§ã„ Ë‹ ã„—ã„Ë‹ ã„‰ã„§Ë‹ ã„•ã„¤Ë‹", "æ‘”ã€ä¸Ÿã€‚", "ä»–ç”Ÿæ°£åœ°æŠŠæ›¸åŒ…æ’‚åœ¨åœ°ä¸Šã€‚", "ä¸€å€‹é‡ç‰©ï¼ˆå¦‚èƒŒåŒ…æˆ–å·¥å…·ï¼‰è¢«éš¨æ„ä¸”é‡é‡åœ°ä¸Ÿåœ¨åœ°ä¸Šï¼Œæ¿€èµ·ä¸€é»ç°å¡µã€‚"],
            [63, "æ”¾è²å¤§æ…Ÿ", "æ…Ÿ", "ã„Šã„¨ã„¥Ë‹", "ã„ˆã„¤Ë‹ ã„•ã„¥ ã„‰ã„šË‹ ã„Šã„¨ã„¥Ë‹", "æ¥µåº¦æ‚²å“€ã€‚", "è½åˆ°è¦ªäººéä¸–çš„æ¶ˆæ¯ï¼Œä»–å¿ä¸ä½æ”¾è²å¤§æ…Ÿã€‚", "ä¸€å€‹äººè·ªåœ¨åœ°ä¸Šï¼Œä»°å¤©å¼µå¤§å˜´å·´ç—›å“­æµæ¶•ï¼Œè¡¨ç¾å‡ºæ¥µåº¦çš„æ‚²å‚·ã€‚"],
            [64, "å­¤åƒ»ä¹‹éš±", "åƒ»", "ã„†ã„§Ë‡", "ã„ã„¨ ã„†ã„§Ë‡ ã„“ ã„§ã„£Ë‡", "ç¿’æ€§ã€å—œå¥½ã€‚", "é€™æ˜¯ä»–å€‹äººçš„å­¤ç™–ä¹‹éš±ï¼Œä¸é¡˜å°å¤–äººèªªã€‚", "ä¸€å€‹äººç¨è‡ªä½åœ¨é é›¢äººç¾¤çš„æ·±å±±å°å±‹è£¡ï¼Œååœ¨çª—é‚Šå–èŒ¶ï¼Œäº«å—å­¤ç¨èˆ‡éš±å±…ç”Ÿæ´»ã€‚"],
            [65, "æˆ•æ‘©å‰å‰Š", "æˆ•", "ã„‘ã„§ã„¤ËŠ", "ã„‘ã„§ã„¤ËŠ ã„‡ã„›ËŠ ã„…ã„› ã„’ã„©ã„", "æ®˜å®³ã€‚", "ç¨è£è€…æˆ•æ‘©å‰å‰Šäººæ°‘ï¼Œçµ‚å°‡è¢«æ¨ç¿»ã€‚", "è±¡å¾µæ€§çš„ç•«é¢ï¼Œä¸€å€‹è²ªå©ªçš„åœ°ä¸»æ­£åœ¨å¾ç˜¦å¼±çš„è¾²æ°‘æ‰‹ä¸­å¥ªèµ°åƒ…å‰©çš„ç³§é£Ÿï¼Œå±•ç¾å£“æ¦¨å‰å‰Šã€‚"],
            [66, "å…§å¿ƒæ†®ç„¶", "æ†®", "ã„¨Ë‡", "ã„‹ã„ŸË‹ ã„’ã„§ã„£ ã„¨Ë‡ ã„–ã„¢ËŠ", "å¤±æ„è²Œã€‚ã„¨Ë‡ï¼šå¤±æ„ï¼›ã„ˆã„¨Ë‡ï¼šå®‰æ’«ï¼ˆé€šæ’«ï¼‰ã€‚", "çœ‹è‘—ç ´æ•—çš„å®¶åœ’ï¼Œä»–å…§å¿ƒæ†®ç„¶ã€‚", "ä¸€å€‹äººç«™åœ¨è½è‘‰ç´›é£›çš„æ¨¹ä¸‹ï¼Œè¡¨æƒ…æ‚µç„¶è‹¥å¤±ï¼Œçœ¼ç¥æµéœ²å‡ºå¤±è½èˆ‡ç„¡å¥ˆã€‚"],
            [67, "æ”»å æ»¬å°¾", "å ", "ã„“ã„¢Ë‹", "ã„ã„¨ã„¥ ã„“ã„¢Ë‹ ã„ã„¨Ë‹ ã„¨ã„ŸË‡", "æ”»å–ä¸¦ä½”é ˜ã€‚æ»¬å°¾ç‚ºæ·¡æ°´èˆŠç¨±ã€‚", "æ¸…æ³•æˆ°çˆ­ä¸­ï¼Œæ³•è»è©¦åœ–æ”»å æ»¬å°¾ï¼Œä½†é­é‡é ‘å¼·æŠµæŠ—ã€‚", "æ¸…æ³•æˆ°çˆ­çš„æ­·å²å ´æ™¯ï¼Œæ¸…è»å£«å…µåœ¨æ·¡æ°´ï¼ˆæ»¬å°¾ï¼‰å²¸é‚Šè‹±å‹‡æŠµç¦¦ï¼Œç ²ç«èˆ‡ç…™éœ§ç€°æ¼«ã€‚"],
            [68, "ä»˜ä¹‹é—•å¦‚", "é—•", "ã„‘ã„©ã„", "ã„ˆã„¨Ë‹ ã„“ ã„‘ã„©ã„ ã„–ã„¨ËŠ", "æ¬ ç¼ºã€æ²’æœ‰ã€‚", "é—œæ–¼é€™æ®µæ­·å²çš„è¨˜è¼‰ï¼Œå²æ–™ä»˜ä¹‹é—•å¦‚ã€‚", "æ‰“é–‹ä¸€å€‹ç²¾ç¾çš„ç›’å­ï¼Œè£¡é¢å»æ˜¯ç©ºç©ºå¦‚ä¹Ÿï¼Œä»€éº¼éƒ½æ²’æœ‰ï¼Œè±¡å¾µç¼ºä¹ã€‚"],
            [69, "å¾‡å…¶ç§æ¬²", "å¾‡", "ã„’ã„©ã„£Ë‹", "ã„’ã„©ã„£Ë‹ ã„‘ã„§ËŠ ã„™ ã„©Ë‹", "é †å¾ã€‚", "å®˜å“¡ä¸æ‡‰å¾‡å…¶ç§æ¬²ï¼Œè€Œç½”é¡§å…¬çœ¾åˆ©ç›Šã€‚", "ä¸€å€‹äººæŠ±è‘—ä¸€å¤§å †é‡‘éŠ€è²¡å¯¶ï¼Œè‡‰ä¸Šéœ²å‡ºè²ªå©ªæ»¿è¶³çš„ç¬‘å®¹ï¼Œå®Œå…¨ä¸é¡§æ—é‚Šéœ€è¦å¹«åŠ©çš„äººã€‚"],
            [70, "æ”«ç‚ºå·±æœ‰", "æ”«", "ã„ã„©ã„ËŠ", "ã„ã„©ã„ËŠ ã„¨ã„ŸËŠ ã„ã„§Ë‡ ã„§ã„¡Ë‡", "æŠ“å–ã€‚", "ä»–ä¼åœ–å°‡å…¬å¸çš„è³‡ç”¢æ”«ç‚ºå·±æœ‰ã€‚", "ä¸€éš»å¤§æ‰‹ä¼¸å‡ºä¾†ï¼Œä¸€æŠŠæŠ“èµ°æ¡Œä¸Šæ‰€æœ‰çš„ç³–æœæˆ–éŒ¢å¹£ï¼Œå±•ç¾å¼·è¡Œä½”æœ‰çš„å‹•ä½œã€‚"],
            [71, "ä»¥æƒ‘æ„šç½", "ç½", "ã„ã„¨Ë‡", "ã„§Ë‡ ã„ã„¨ã„›Ë‹ ã„©ËŠ ã„ã„¨Ë‡", "ççœ¼ã€‚", "é€™äº›è¿·ä¿¡èªªæ³•åªæ˜¯ç”¨ä¾†ä»¥æƒ‘æ„šç½ç½·äº†ã€‚", "ä¸€å€‹é¨™å­åœ¨å°ä¸Šèª‡èª‡å…¶è«‡ï¼Œå°ä¸‹æ˜¯ä¸€ç¾¤è¢«çŸ‡ä½çœ¼ç›çš„äººåœ¨é¼“æŒï¼Œè±¡å¾µæ¬ºé¨™ç„¡çŸ¥çš„äººã€‚"],
            [72, "éˆ¿é ­é›²ç¯¦", "ç¯¦", "ã„…ã„§Ë‹", "ã„‰ã„§ã„¢Ë‹ ã„Šã„¡ËŠ ã„©ã„£ËŠ ã„…ã„§Ë‹", "æ¢³é«®çš„ç”¨å…·ã€‚", "ï¼ˆç™½å±…æ˜“ã€Šçµç¶è¡Œã€‹å¥ï¼‰éˆ¿é ­é›²ç¯¦æ“Šç¯€ç¢ã€‚", "å¤ä»£ç²¾ç·»çš„é«®é£¾ç‰¹å¯«ï¼Œé‘²åµŒè‘—é‡‘éŠ€ç å¯¶ï¼Œé›•åˆ»æˆé›²æœµå½¢ç‹€çš„æ¢³å­ï¼Œè¯éº—å…¸é›…ã€‚"],
            [73, "ä¾¿å®œå¾äº‹", "ä¾¿", "ã„…ã„§ã„¢Ë‹", "ã„…ã„§ã„¢Ë‹ ã„§ËŠ ã„˜ã„¨ã„¥ËŠ ã„•Ë‹", "æ–Ÿé…Œæƒ…å½¢ï¼Œè‡ªè¡Œè™•ç†ã€‚ã„…ã„§ã„¢Ë‹ï¼šæ–¹ä¾¿ï¼›ã„†ã„§ã„¢ËŠï¼šåƒ¹æ ¼ä½ã€‚", "é•·å®˜æˆæ¬Šä»–åœ¨å¤–åœ°å¯ä»¥ä¾¿å®œå¾äº‹ã€‚", "æˆ°å ´ä¸Šä¸€ä½å°‡è»çœ‹è‘—åœ°åœ–ï¼Œæœæ–·åœ°æŒ‡æ®å£«å…µæ”¹è®Šè·¯ç·šï¼Œå±•ç¾è‡¨æ©Ÿæ‡‰è®Šçš„æ±ºç­–ã€‚"],
            [74, "ææŒˆåŒä¾†", "æŒˆ", "ã„‘ã„§ã„Ë‹", "ã„Šã„§ËŠ ã„‘ã„§ã„Ë‹ ã„Šã„¨ã„¥ËŠ ã„Œã„ËŠ", "æã€å¸¶é ˜ã€‚", "ä»–ææŒˆåŒä¾†çš„å¥½å‹ä¸€èµ·å‰µæ¥­ã€‚", "å…©å€‹äººæ‰‹æ‹‰è‘—æ‰‹ï¼Œæˆ–è€…ä¸€å€‹äººæè‘—è¡Œæå¸¶è‘—å¦ä¸€å€‹äººï¼Œä¸€èµ·é«˜èˆˆåœ°èµ°é€²å¤§é–€ã€‚"],
            [75, "å‹•äººå¿ƒå¼¦", "å¼¦", "ã„’ã„§ã„¢ËŠ", "ã„‰ã„¨ã„¥Ë‹ ã„–ã„£ËŠ ã„’ã„§ã„£ ã„’ã„§ã„¢ËŠ", "æ¨‚å™¨ä¸Šçš„ç·šã€‚æ¯”å–»å¿ƒéˆã€‚éã€Œã„’ã„©ã„¢ËŠã€ã€‚", "é€™é¦–æ¨‚æ›²æ—‹å¾‹å„ªç¾ï¼Œå‹•äººå¿ƒå¼¦ã€‚", "ä¸€ä½éŸ³æ¨‚å®¶åœ¨èˆå°ä¸Šæ‹‰å°æç´ï¼Œå°ä¸‹çš„è§€çœ¾è½å¾—å¦‚ç™¡å¦‚é†‰ï¼Œæœ‰äººæ„Ÿå‹•è½æ·šã€‚"],
            [76, "è¡å‹åè¶³", "å‹", "ã„ã„§ã„¥Ë‹", "ã„”ã„¨ã„¥ ã„ã„§ã„¥Ë‹ ã„•ËŠ ã„—ã„¨ËŠ", "åŠ›æ°£ã€ç²¾ç¥ã€‚ã„ã„§ã„¥Ë‹ï¼šåŠ›æ°£ï¼›ã„ã„§ã„£Ë‹ï¼šå¼·å‹ã€‚æ­¤è™•è®€å››è²ã€‚", "é€™å€‹å¹´è¼•äººè¡å‹åè¶³ï¼Œå·¥ä½œæ•ˆç‡å¾ˆé«˜ã€‚", "ä¸€ç¾¤è·‘è€…åœ¨èµ·è·‘ç·šä¸Šå…¨åŠ›è¡åˆºï¼Œé ˜é ­çš„é‚£ä½è¡¨æƒ…å……æ»¿é¬¥å¿—èˆ‡èƒ½é‡ï¼Œé€Ÿåº¦ç·šæ¢æ„Ÿå¼·çƒˆã€‚"],
            [77, "äº’è¨´è¡·æ›²", "æ›²", "ã„‘ã„©", "ã„ã„¨Ë‹ ã„™ã„¨Ë‹ ã„“ã„¨ã„¥ ã„‘ã„©", "éš±ç§˜çš„å¿ƒäº‹ã€‚ã„‘ã„©ï¼šå¿ƒäº‹/å½æ›²ï¼›ã„‘ã„©Ë‡ï¼šæ­Œæ›²ã€‚", "å¤šå¹´å¥½å‹é‡é€¢ï¼Œäº’è¨´è¡·æ›²ï¼ŒèŠäº†ä¸€æ•´æ™šã€‚", "å…©å€‹çŸ¥å¿ƒå¥½å‹ååœ¨æ˜Ÿç©ºä¸‹æˆ–æº«é¦¨çš„æˆ¿é–“è£¡ï¼Œé¢å°é¢çœŸèª åœ°è«‡å¿ƒï¼Œæ°£æ°›æº«æš–ã€‚"],
            [78, "èª¦è©©èˆå‹º", "å‹º", "ã„“ã„¨ã„›ËŠ", "ã„™ã„¨ã„¥Ë‹ ã„• ã„¨Ë‡ ã„“ã„¨ã„›ËŠ", "å¤ä»£çš„ä¸€ç¨®æ¨‚èˆã€‚", "å¤æ™‚å­¸ç«¥åä¸‰æ­²å­¸èª¦è©©èˆå‹ºã€‚", "å¤ä»£å­¸å ‚å ´æ™¯ï¼Œå°å­¸ç”Ÿå€‘æ–é ­æ™ƒè…¦åœ°èƒŒèª¦è©©æ­Œï¼ŒåŒæ™‚æ‰‹æ‹¿è‘—å‹ºå­åšè‘—ç°¡å–®çš„èˆè¹ˆå‹•ä½œï¼ˆå¤ä»£å°å­¸æ•™è‚²ï¼‰ã€‚"],
            [79, "å­°èƒ½ç„¡æƒ‘", "å­°", "ã„•ã„¨ËŠ", "ã„•ã„¨ËŠ ã„‹ã„¥ËŠ ã„¨ËŠ ã„ã„¨ã„›Ë‹", "èª°ã€‚", "äººéè–è³¢ï¼Œå­°èƒ½ç„¡æƒ‘ï¼Ÿ", "ä¸€ä½å­¸ç”Ÿæ»¿é ­å•è™Ÿï¼Œèˆ‰æ‰‹å‘è€å¸«ç™¼å•ï¼Œè€å¸«å¾®ç¬‘æº–å‚™è§£ç­”ï¼Œè±¡å¾µèª°éƒ½æœƒæœ‰å›°æƒ‘ã€‚"],
            [80, "ä¸€åªçš®ç®±", "åª", "ã„“", "ã„§ ã„“ ã„†ã„§ËŠ ã„’ã„§ã„¤", "é‡è©ã€‚è€ƒè©¦ç”¨å­—è‹¥ç‚ºã€Œéš»ã€äº¦è®€ ã„“ã€‚", "ä»–æè‘—ä¸€åªçš®ç®±ï¼Œç¨è‡ªåˆ°å°åŒ—æ‰“æ‹šã€‚", "ä¸€å€‹å¾©å¤çš„èˆŠçš®ç®±å­¤é›¶é›¶åœ°æ”¾åœ¨ç«è»Šç«™çš„æœˆå°ä¸Šï¼Œå¸¶æœ‰æ—…è¡Œèˆ‡é›¢åˆ¥çš„æ„è±¡ã€‚"],
            [81, "æ’æ¯”ä¿®è¾­", "æ¯”", "ã„…ã„§Ë‡", "ã„†ã„ËŠ ã„…ã„§Ë‡ ã„’ã„§ã„¡ ã„˜ËŠ", "ä¸¦åˆ—ã€‚", "é€™ç¯‡æ–‡ç« é‹ç”¨äº†å¤§é‡çš„æ’æ¯”ä¿®è¾­ï¼Œå¢å¼·äº†æ°£å‹¢ã€‚", "ç•«é¢ä¸Šç•«è‘—ä¸‰æ£µä¸€æ¨¡ä¸€æ¨£çš„æ¨¹ã€ä¸‰æœµä¸€æ¨¡ä¸€æ¨£çš„èŠ±ï¼Œæ•´é½Šæ’åˆ—ï¼Œè±¡å¾µå¥å¼çš„é‡è¤‡èˆ‡æ•´é½Šã€‚"],
            [82, "æŒ‘æ’¥é›¢é–“", "é–“", "ã„ã„§ã„¢Ë‹", "ã„Šã„§ã„ Ë‡ ã„…ã„› ã„Œã„§ËŠ ã„ã„§ã„¢Ë‹", "åˆ†åŒ–ã€éš”é–¡ã€‚", "ä¸è¦è½ä¿¡å°äººçš„æŒ‘æ’¥é›¢é–“ï¼Œç ´å£äº†æˆ‘å€‘çš„æ„Ÿæƒ…ã€‚", "ä¸€å€‹äººåœ¨å…©ç¾¤æœ‹å‹ä¸­é–“ï¼Œåˆ†åˆ¥å°å·¦å³å…©é‚Šèªªæ‚„æ‚„è©±ï¼Œå°è‡´å…©é‚Šçš„äººäº’ç›¸æ€’è¦–ã€‚"],
            [83, "æ•…æ…‹å¾©èŒ", "èŒ", "ã„‡ã„¥ËŠ", "ã„ã„¨Ë‹ ã„Šã„Ë‹ ã„ˆã„¨Ë‹ ã„‡ã„¥ËŠ", "ç™¼ç”Ÿã€‚", "æ‰å‰›æˆ’è¸ä¸ä¹…ï¼Œä»–åˆæ•…æ…‹å¾©èŒäº†ã€‚", "ä¸€å€‹å‰›æˆ’è¸çš„äººï¼Œåˆå¿ä¸ä½å·å·æ‹¿èµ·äº†ç…™ï¼Œæˆ–è€…å‰›æ”¹æ‰å£ç¿’æ…£åˆé‡çŠ¯ï¼Œè¡¨æƒ…æ‡Šæƒ±ã€‚"],
            [84, "é™°é™½æ½›ç§»", "æ½›", "ã„‘ã„§ã„¢ËŠ", "ã„§ã„£ ã„§ã„¤ËŠ ã„‘ã„§ã„¢ËŠ ã„§ËŠ", "æš—ä¸­ã€‚", "æ­²æœˆé™°é™½æ½›ç§»ï¼Œä¸çŸ¥ä¸è¦ºæˆ‘å€‘éƒ½è€äº†ã€‚", "ç•«é¢ä¸ŠåŒæ™‚å‘ˆç¾ç™½å¤©èˆ‡é»‘å¤œçš„æ¼¸å±¤éæ¸¡ï¼Œå¤ªé™½èˆ‡æœˆäº®åŒæ¡†ï¼Œè±¡å¾µæ™‚é–“èˆ‡é™°é™½çš„æ‚„æ‚„è®ŠåŒ–ã€‚"],
            [85, "å¤«å­å“‚ä¹‹", "å“‚", "ã„•ã„£Ë‡", "ã„ˆã„¨ ã„—Ë‡ ã„•ã„£Ë‡ ã„“", "å¾®ç¬‘ã€‚", "å­è·¯å½ˆç‘Ÿï¼Œå¤«å­æ™’ä¹‹ã€‚", "å¤ä»£å ´æ™¯ï¼Œä¸€ä½ç©¿è‘—å„’æœçš„è€å¸«ï¼ˆå­”å­å½¢è±¡ï¼‰å°è‘—æ­£åœ¨å½ˆç‘Ÿçš„å­¸ç”Ÿéœ²å‡ºæ„å‘³æ·±é•·çš„å¾®ç¬‘ã€‚"],
            [86, "é™³æ‘¶è€ç¥–", "æ‘¶", "ã„Šã„¨ã„¢ËŠ", "ã„”ã„£ËŠ ã„Šã„¨ã„¢ËŠ ã„Œã„ Ë‡ ã„—ã„¨Ë‡", "äººåã€‚éã€Œåšã€ã€‚", "é™³æ‘¶è€ç¥–æ˜¯è‘—åçš„é“å®¶äººç‰©ã€‚", "ä¸€ä½ç™½é¬å­çš„é“æ•™è€ç¥ä»™ï¼Œå´èº«èººåœ¨é›²ç«¯æˆ–å¤§çŸ³é ­ä¸Šå‘¼å‘¼å¤§ç¡ï¼Œæ‚ é–’è‡ªåœ¨ã€‚"],
            [87, "æˆ›ç„¶è€Œæ­¢", "æˆ›", "ã„ã„§ã„šËŠ", "ã„ã„§ã„šËŠ ã„–ã„¢ËŠ ã„¦ËŠ ã„“Ë‡", "çªç„¶åœæ­¢ã€‚", "æŒè²æˆ›ç„¶è€Œæ­¢ï¼Œå…¨å ´å±æ¯ä»¥å¾…ã€‚", "æŒ‡æ®å®¶æ‰‹ä¸­çš„æŒ‡æ®æ£’çªç„¶åœåœ¨åŠç©ºä¸­ï¼Œæ¨‚åœ˜å…¨é«”éœæ­¢ï¼Œç•«é¢å……æ»¿äº†çªç„¶åœæ­¢çš„å¼µåŠ›ã€‚"],
            [88, "èˆŠæ™‚æ¬„æ¥¯", "æ¥¯", "ã„•ã„¨ã„£Ë‡", "ã„ã„§ã„¡Ë‹ ã„•ËŠ ã„Œã„¢ËŠ ã„•ã„¨ã„£Ë‡", "æ¬„æ†ã€‚", "åº­é™¢ä¸­é‚„ä¿ç•™è‘—èˆŠæ™‚æ¬„æ¥¯ï¼Œå¤è‰²å¤é¦™ã€‚", "ä¸€æ£Ÿè€èˆŠæˆ¿å­å‰çš„æœ¨é ­æ¬„æ†ï¼Œé›–ç„¶æ²¹æ¼†æ–‘é§ä½†å……æ»¿å›æ†¶ï¼ŒèƒŒæ™¯æœ‰æ‡·èˆŠçš„åº­é™¢ã€‚"],
            [89, "ç”•ç‰–è€Œå±…", "ç‰–", "ã„§ã„¡Ë‡", "ã„¨ã„¥Ë‹ ã„§ã„¡Ë‡ ã„¦ËŠ ã„ã„©", "çª—æˆ¶ã€‚", "é™‹å®¤é›–å°ï¼Œä½†æ‰ç‰–è€Œå±…ï¼Œå€’ä¹Ÿæ¸…éœã€‚", "ç°¡é™‹çš„å°å±‹ï¼Œåªæœ‰ä¸€æ‰‡å°å°çš„çª—æˆ¶ï¼Œé€éçª—æˆ¶å¯ä»¥çœ‹åˆ°è£¡é¢ç°¡æ¨¸çš„ç”Ÿæ´»ç’°å¢ƒã€‚"],
            [90, "åƒçœä¹å·±", "çœ", "ã„’ã„§ã„¥Ë‡", "ã„˜ã„¢ ã„’ã„§ã„¥Ë‡ ã„ã„¨ ã„ã„§Ë‡", "åçœã€‚", "å›å­åšå­¸è€Œæ—¥åƒçœä¹å·±ï¼Œå‰‡çŸ¥æ˜è€Œè¡Œç„¡éçŸ£ã€‚", "ä¸€å€‹äººå°è‘—é¡å­ï¼Œé¡å­è£¡æ˜ ç…§å‡ºä»–åœ¨åçœæ€è€ƒè‡ªå·±çš„å…§å¿ƒï¼Œè¡¨æƒ…åš´è‚…èªçœŸã€‚"],
            [91, "æ–œæš‰è„ˆè„ˆ", "è„ˆ", "ã„‡ã„›Ë‹", "ã„’ã„§ã„ËŠ ã„ã„¨ã„Ÿ ã„‡ã„›Ë‹ ã„‡ã„›Ë‹", "å«æƒ…å‡è¦–çš„æ¨£å­ã€‚", "å¤•é™½è¥¿ä¸‹ï¼Œæ–œæš‰è„ˆè„ˆæ°´æ‚ æ‚ ã€‚", "å¤•é™½è¥¿ä¸‹ï¼Œé‡‘è‰²çš„é™½å…‰æ–œæ–œåœ°ç‘åœ¨å¹³éœçš„æ±Ÿé¢ä¸Šï¼Œå…‰å½±æŸ”å’Œä¸”å¸¶é»å«æƒ…è„ˆè„ˆçš„æ„Ÿè¦ºã€‚"],
            [92, "ç¥–å…ˆå¢³å¡‹", "å¡‹", "ã„§ã„¥ËŠ", "ã„—ã„¨Ë‡ ã„’ã„§ã„¢ ã„ˆã„£ËŠ ã„§ã„¥ËŠ", "å¢“åœ°ã€‚", "æ¸…æ˜ç¯€æˆ‘å€‘éƒ½æœƒå›é„‰æƒå¢“ï¼Œç¥­æ‹œç¥–å…ˆå¢³å¡‹ã€‚", "æ¸…æ˜æƒå¢“å ´æ™¯ï¼Œä¸€å€‹æ•´ç†ä¹¾æ·¨çš„å¢“åœ°ï¼Œå¾Œä»£å­å­«æ­£åœ¨ç¥­æ‹œï¼ŒèƒŒæ™¯æ˜¯é’ç¿ çš„å±±æ—ï¼Œæ°£æ°›èŠé‡ã€‚"],
            [93, "è¬é ­æ”¢å‹•", "æ”¢", "ã„˜ã„¨ã„¢ËŠ", "ã„¨ã„¢Ë‹ ã„Šã„¡ËŠ ã„˜ã„¨ã„¢ËŠ ã„‰ã„¨ã„¥Ë‹", "ç©¿è¡Œã€é‘½ç‡Ÿã€‚", "è·¨å¹´æ™šæœƒç¾å ´è¬é ­é‘½å‹•ï¼Œæ“ å¾—æ°´æ´©ä¸é€šã€‚", "å»£å ´ä¸Šå¯†å¯†éº»éº»æ“ æ»¿äº†äººé ­ï¼Œäººå±±äººæµ·çš„ç†±é¬§å ´é¢ï¼Œä¿¯è¦–è§’åº¦ã€‚"],
            [94, "è’è€½æ–¼é…’", "è€½", "ã„‰ã„¢", "ã„ã„¨ã„¤ ã„‰ã„¢ ã„©ËŠ ã„ã„§ã„¡Ë‡", "æ²‰æººã€‚", "ä»–æ•´æ—¥è’è€½æ–¼é…’ï¼Œä¸å‹™æ­£æ¥­ã€‚", "ä¸€å€‹å¤äººé†‰å€’åœ¨é…’ç”•æ—ï¼Œå‘¨åœæ•£è½è‘—é…’æ¯ï¼Œè¡£æœå‡Œäº‚ï¼Œé¡¯å¾—é ¹å»¢ä¸æŒ¯ã€‚"],
            [95, "å˜‰è¨€æ‡¿è¡Œ", "æ‡¿", "ã„§Ë‹", "ã„ã„§ã„š ã„§ã„¢ËŠ ã„§Ë‹ ã„’ã„§ã„¥Ë‹", "ç¾å¥½ã€‚", "å¤è–å…ˆè³¢çš„å˜‰è¨€æ‡¿è¡Œï¼Œå€¼å¾—æˆ‘å€‘å­¸ç¿’ã€‚", "ä¸€æœ¬æ‰“é–‹çš„å¤æ›¸ç™¼å‡ºé‡‘å…‰ï¼Œæ›¸é ä¸Šé›–ç„¶ç„¡å­—ä½†è±¡å¾µè‘—ç¾å¥½çš„å¾·è¡Œèˆ‡è¨€èªï¼Œå‘¨åœç’°ç¹è‘—ç¥¥é›²ã€‚"],
            [96, "çé ­é¼ ç›®", "ç", "ã„“ã„¤", "ã„“ã„¤ ã„Šã„¡ËŠ ã„•ã„¨Ë‡ ã„‡ã„¨Ë‹", "å‹•ç‰©åã€‚", "é€™å€‹äººçé ­é¼ ç›®ï¼Œçœ‹èµ·ä¾†ä¸åƒå¥½äººã€‚", "ä¸€å€‹ç•«å¾—å¾ˆèª‡å¼µçš„å£äººï¼Œé ­åƒçå­ã€çœ¼ç›åƒè€é¼ èˆ¬è³Šé ­è³Šè…¦ï¼Œå¤–è²ŒçŒ¥ç‘£ã€‚"],
            [97, "æ»…åœ‹å¼’å›", "å¼’", "ã„•Ë‹", "ã„‡ã„§ã„Ë‹ ã„ã„¨ã„›ËŠ ã„•Ë‹ ã„ã„©ã„£", "æ®ºï¼ˆä¸‹æ®ºä¸Šï¼‰ã€‚", "è‡£å­å¼’å›æ˜¯å°å»ºæ™‚ä»£çš„å¤§ç½ªã€‚", "æˆ°äº‚çš„çš‡å®®å ´æ™¯ï¼Œç‹åº§å‚¾å€’ï¼Œç«å…‰å››èµ·ï¼Œè±¡å¾µä¸€å€‹åœ‹å®¶çš„è¦†æ»…èˆ‡å›ç‹çš„é€å»ï¼Œæˆ²åŠ‡å¼µåŠ›å¼·ã€‚"],
            [98, "é–±è½å¤§çœ¾", "é–±", "ã„©ã„Ë‹", "ã„©ã„Ë‹ ã„Šã„§ã„¥ ã„‰ã„šË‹ ã„“ã„¨ã„¥Ë‹", "è§€çœ‹ã€‚", "åª’é«”æ‡‰å°é–±è½å¤§çœ¾è² è²¬ï¼Œå ±å°çœŸå¯¦æ–°èã€‚", "ä¸€ç¾¤ä¸åŒå¹´é½¡ã€æ€§åˆ¥çš„äººå€‘ï¼ˆå¤§çœ¾ï¼‰æ­£å°ˆæ³¨åœ°çœ‹è‘—å‰æ–¹ï¼ˆåƒæ˜¯åœ¨çœ‹é›»è¦–æˆ–è½å»£æ’­ï¼‰ï¼Œè¡¨æƒ…å„ç•°ã€‚"]
        ];

        // --- Distractor Generator ---
        const generateDistractors = (correctZhuyin) => {
            const distractors = [];
            const tones = [' ', 'ËŠ', 'Ë‡', 'Ë‹', 'Ë™'];
            const initials = ['ã„…','ã„†','ã„‡','ã„ˆ','ã„‰','ã„Š','ã„‹','ã„Œ','ã„','ã„','ã„','ã„','ã„‘','ã„’','ã„“','ã„”','ã„•','ã„–','ã„—','ã„˜','ã„™'];
            
            let tries = 0;
            while(distractors.length < 3 && tries < 50) {
                tries++;
                let newZ = correctZhuyin;
                const randomType = Math.random();
                
                if (randomType < 0.5) { // è®Šæ›è²èª¿
                    const currentTone = tones.find(t => correctZhuyin.endsWith(t)) || ' ';
                    const otherTones = tones.filter(t => t !== currentTone);
                    const newTone = otherTones[Math.floor(Math.random() * otherTones.length)];
                    if (currentTone === ' ') {
                        newZ = correctZhuyin + newTone;
                    } else {
                        newZ = correctZhuyin.slice(0, -1) + (newTone === ' ' ? '' : newTone);
                    }
                } 
                else { // è®Šæ›è²æ¯
                    const firstChar = correctZhuyin[0];
                    if (initials.includes(firstChar)) {
                        const otherInitials = initials.filter(i => i !== firstChar);
                        const newInitial = otherInitials[Math.floor(Math.random() * otherInitials.length)];
                        newZ = newInitial + correctZhuyin.slice(1);
                    } else {
                          const otherInitials = initials;
                          const newInitial = otherInitials[Math.floor(Math.random() * otherInitials.length)];
                          newZ = newInitial + correctZhuyin;
                    }
                }

                if (newZ !== correctZhuyin && !distractors.includes(newZ)) {
                    distractors.push(newZ);
                }
            }
            while(distractors.length < 3) {
                distractors.push("ã„˜ã„¨ã„›Ë‹"); // Fallback
            }
            return distractors;
        };

        // --- Data Processor ---
        const WORD_DATA = RAW_DATA.map(item => {
            const [id, term, targetChar, targetZhuyin, fullZhuyin, definition, sentence, scene] = item;
            return {
                id, term, targetChar, targetZhuyin, fullZhuyin, definition, sentence, scene,
                distractors: generateDistractors(targetZhuyin),
                image: `p${String(id).padStart(3, '0')}.jpg`
            };
        });

        // --- Icons ---
        const icons = {
            check: <polyline points="20 6 9 17 4 12" />,
            play: <polygon points="5 3 19 12 5 21 5 3" />,
            pause: <><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></>,
            book: <><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></>,
            menu: <><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></>,
            left: <polyline points="15 18 9 12 15 6"/>,
            heart: <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>,
            history: <><path d="M12 8v4l3 3"/><circle cx="12" cy="12" r="10"/></>,
            alert: <><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></>,
            trash: <><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></>,
            login: <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3"/>,
            lightning: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
            logout: <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>,
            userX: <><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="18" y1="8" x2="23" y2="13"/><line x1="23" y1="8" x2="18" y2="13"/></>,
            search: <><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></>,
            list: <><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></>,
            volume: <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>,
            volumeX: <><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></>,
            music: <path d="M9 18V5l12-2v13"></path>,
            skipBack: <><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></>,
            skipForward: <><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></>,
            print: <><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></>,
            lock: <><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></>,
            activity: <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
        };

        const Icon = ({ path, className, fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{path}</svg>
        );

        // -- Helper: Highlight Target Character --
        const HighlightedTerm = ({ term, targetChar, className = "" }) => {
            if (!term || !targetChar) return <span>{term}</span>;
            const parts = term.split(targetChar);
            return (
                <span className={className}>
                    {parts.map((part, index) => (
                        <React.Fragment key={index}>
                            {part}
                            {index < parts.length - 1 && (
                                <span className="text-red-600 font-bold mx-0.5">{targetChar}</span>
                            )}
                        </React.Fragment>
                    ))}
                </span>
            );
        };

        // -- Music Player Component --
        const MusicPlayer = forwardRef((props, ref) => {
            const [playlist, setPlaylist] = useState([]);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [isPlaying, setIsPlaying] = useState(false);
            const [volume, setVolume] = useState(0.5);
            const [hasInteracted, setHasInteracted] = useState(false);
            const [status, setStatus] = useState('loading'); 
            const audioRef = useRef(null);

            useImperativeHandle(ref, () => ({
                triggerPlay: () => {
                    if (playlist.length === 0) return;
                    if (!hasInteracted) {
                        setHasInteracted(true);
                        if (audioRef.current) {
                            audioRef.current.play().then(() => setIsPlaying(true)).catch(e => console.log("Autoplay blocked", e));
                        }
                    } else if (!isPlaying) {
                        audioRef.current.play().then(() => setIsPlaying(true)).catch(console.error);
                    }
                }
            }));

            useEffect(() => {
                const fetchMusic = async () => {
                    if (!MUSIC_CONFIG.username || !MUSIC_CONFIG.repo) { setStatus('error'); return; }
                    try {
                        setStatus('loading');
                        const url = `https://api.github.com/repos/${MUSIC_CONFIG.username}/${MUSIC_CONFIG.repo}/contents/${MUSIC_CONFIG.folder}`;
                        const res = await fetch(url);
                        if (!res.ok) throw new Error('Network response was not ok');
                        const data = await res.json();
                        const tracks = data.filter(item => item.name.endsWith('.mp3')).map(item => ({ title: item.name.replace(/\.mp3$/i, ''), src: item.download_url }));
                        if (tracks.length > 0) {
                            for (let i = tracks.length - 1; i > 0; i--) {
                                const j = Math.floor(Math.random() * (i + 1));
                                [tracks[i], tracks[j]] = [tracks[j], tracks[i]];
                            }
                            setPlaylist(tracks); setStatus('ready');
                        } else { setStatus('empty'); }
                    } catch (error) { setStatus('error'); }
                };
                fetchMusic();
            }, []);

            useEffect(() => { if (audioRef.current) audioRef.current.volume = volume; }, [volume]);
            const handleEnded = () => { if (playlist.length === 0) return; setCurrentIndex((currentIndex + 1) % playlist.length); setIsPlaying(true); };
            const togglePlay = () => { if (!audioRef.current || playlist.length === 0) return; if (isPlaying) audioRef.current.pause(); else audioRef.current.play(); setIsPlaying(!isPlaying); };
            const playNext = () => { if (playlist.length === 0) return; setCurrentIndex((currentIndex + 1) % playlist.length); setIsPlaying(true); };
            const playPrev = () => { if (playlist.length === 0) return; setCurrentIndex((currentIndex - 1 + playlist.length) % playlist.length); setIsPlaying(true); };
            const currentTrack = playlist[currentIndex];
            const isReady = status === 'ready';
            const themeColor = '#FF8800';

            return (
                <div className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-white/95 backdrop-blur-md px-5 py-2.5 rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-gray-100 flex items-center gap-4 transition-all duration-300 hover:shadow-[0_12px_40px_rgb(0,0,0,0.15)] no-print">
                    {isReady && <audio ref={audioRef} src={currentTrack.src} onEnded={handleEnded} autoPlay={isPlaying} />}
                    <div className="w-32 md:w-48 overflow-hidden relative h-6 flex items-center bg-orange-50 rounded-md px-2 border border-orange-100">
                        <div className={`absolute whitespace-nowrap font-bold text-sm ${isReady ? 'animate-marquee' : 'left-2'}`} style={{ color: themeColor }}>
                            {status === 'loading' ? "â³ è®€å–ä¸­..." : status === 'error' ? "âš ï¸ è¨­å®šéŒ¯èª¤" : status === 'empty' ? "âš ï¸ ç„¡æª”æ¡ˆ" : `ğŸµ ${currentTrack.title} ğŸµ ${currentTrack.title}`}
                        </div>
                    </div>
                    <div className={`flex items-center gap-3 ${!isReady ? 'opacity-50 pointer-events-none' : ''}`}>
                        <div className="flex items-center gap-1 group">
                            <button onClick={() => setVolume(v => v === 0 ? 0.5 : 0)} className="hover:opacity-80 transition-opacity" style={{ color: themeColor }}><Icon path={volume === 0 ? icons.volumeX : icons.volume} className="w-4 h-4" /></button>
                            <input type="range" min="0" max="1" step="0.05" value={volume} onChange={(e) => setVolume(parseFloat(e.target.value))} className="w-16 volume-slider opacity-50 group-hover:opacity-100 transition-opacity" />
                        </div>
                        <div className="flex items-center gap-2 border-l border-gray-200 pl-3">
                            <button onClick={playPrev} className="hover:opacity-80 transition-transform active:scale-90" style={{ color: themeColor }}><Icon path={icons.skipBack} className="w-5 h-5" fill="currentColor"/></button>
                            <button onClick={togglePlay} className="rounded-full p-1.5 hover:opacity-90 transition-transform active:scale-95 shadow-md text-white" style={{ backgroundColor: themeColor }}><Icon path={isPlaying ? icons.pause : icons.play} className="w-5 h-5" fill="currentColor"/></button>
                            <button onClick={playNext} className="hover:opacity-80 transition-transform active:scale-90" style={{ color: themeColor }}><Icon path={icons.skipForward} className="w-5 h-5" fill="currentColor"/></button>
                        </div>
                    </div>
                </div>
            );
        });

        // -- New Component: PrintView --
        const PrintExamView = ({ items, onMenu }) => {
            const chunkSize = 20; // é…åˆé—œå¡æ•¸ï¼Œæ¯é 20é¡Œ
            const chunks = [];
            for (let i = 0; i < items.length; i += chunkSize) {
                chunks.push(items.slice(i, i + chunkSize));
            }

            useEffect(() => {
                setTimeout(() => window.print(), 500);
            }, []);

            return (
                <div id="print-area" className="w-full bg-white text-black min-h-screen">
                    {/* Control Bar (No Print) */}
                    <div className="fixed top-4 right-4 z-50 flex gap-2 no-print">
                        <button onClick={() => window.print()} className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center">
                            <Icon path={icons.print} className="w-5 h-5 mr-2"/> åˆ—å°
                        </button>
                        <button onClick={onMenu} className="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg">
                            è¿”å›
                        </button>
                    </div>

                    {chunks.map((chunk, pageIndex) => (
                        <div key={pageIndex} className="a4-page mx-auto bg-white mb-8 shadow-lg print:shadow-none print:mb-0 box-border flex flex-col">
                            {/* Header per page */}
                            <div className="text-center mb-6 border-b-2 border-black pb-2">
                                <h1 className="text-3xl font-bold font-serif tracking-widest">å­—éŸ³å¤§å¸« - éš¨å ‚æ¸¬é©— (å·{pageIndex + 1})</h1>
                                <div className="flex justify-between mt-4 text-base font-bold font-serif">
                                    <span>ç­ç´šï¼š__________ å§“åï¼š__________ åº§è™Ÿï¼š__________</span>
                                    <span>å¾—åˆ†ï¼š__________</span>
                                </div>
                            </div>

                            {/* Questions Grid */}
                            <div className="grid grid-cols-2 gap-x-16 gap-y-6 flex-1 content-start">
                                {chunk.map((item, idx) => {
                                    const globalIndex = pageIndex * chunkSize + idx + 1;
                                    const parts = item.term.split(item.targetChar);
                                    const questionText = (
                                        <span>
                                            {parts.map((part, i) => (
                                                <React.Fragment key={i}>
                                                    {part}
                                                    {i < parts.length - 1 && (
                                                        <span className="font-bold font-serif mx-1">ã€Œ{item.targetChar}ã€</span>
                                                    )}
                                                </React.Fragment>
                                            ))}
                                        </span>
                                    );

                                    return (
                                        <div key={item.id} className="flex items-center break-inside-avoid border-b border-gray-200 pb-1">
                                            <span className="mr-2 w-8 text-right font-mono text-lg font-bold">{globalIndex}.</span>
                                            <div className="flex-1 text-lg">
                                                {questionText}
                                            </div>
                                            {/* æ‰‹å¯«æ³¨éŸ³æ¡† */}
                                            <div className="w-16 h-8 border border-black ml-2 rounded-sm bg-white"></div>
                                        </div>
                                    )
                                })}
                            </div>
                            
                            <div className="mt-auto text-center text-xs text-gray-400 no-print">
                                * A4 ç›´å¼æ’ç‰ˆï¼Œæ¯é  20 é¡Œã€‚
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        const MenuView = ({ 
            userName, setUserName, showNameWarning, mistakeLog, favorites, parsedData, 
            onStartLearn, onStartQuiz, onStartWaterfall, onViewHistory, onViewMistakes, onViewTable, onPrintExam,
            onLogin, isLocked, onQuickLogin, globalUsers, onLogout, onDeleteUser,
            triggerMusic, connectionStatus, completedDays
        }) => {
            const totalPages = Math.ceil(parsedData["ç²¾é¸å­—éŸ³"].length / ITEMS_PER_PAGE);
            const progressPercent = totalPages > 0 ? Math.min(100, Math.round((completedDays.length / totalPages) * 100)) : 0;

            // æª¢æŸ¥æŸé—œå¡æ˜¯å¦å®Œæˆçš„ helper
            const getLevelStatus = (levelIndex) => {
                const key = `ç²¾é¸å­—éŸ³-${levelIndex}`;
                const completedRecord = completedDays.find(item => item.id === key);
                return completedRecord ? { completed: true, date: completedRecord.date } : { completed: false };
            };

            return (
                <div className="max-w-6xl mx-auto px-4 py-8 animate-fade-in-up mt-16 no-print">
                    {/* Dashboard Header */}
                    <div className="bg-white/90 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-xl border border-amber-100 mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
                        <div>
                            <h1 className="text-4xl md:text-5xl font-extrabold text-amber-900 tracking-tight flex items-center gap-3 font-serif drop-shadow-sm mb-2">
                                <span className="text-5xl md:text-6xl filter drop-shadow-md">ğŸ—£ï¸</span> 
                                <div>
                                    å­—éŸ³å¤§å¸« <span className="text-lg md:text-xl block md:inline text-amber-700 font-normal">æ˜“æ··æ·†å­—éŸ³ç‰ˆ</span>
                                </div>
                            </h1>
                            <p className="text-gray-500 font-bold ml-2">äº’å‹•å¼å­¸ç¿’ç³»çµ± v2.0</p>
                        </div>
                        
                        {/* ç‹€æ…‹æŒ‡ç¤ºç‡ˆ & é€²åº¦ */}
                        <div className="flex flex-col items-end gap-3 w-full md:w-auto">
                            <div className="flex items-center bg-gray-50 px-3 py-1.5 rounded-full border border-gray-200 shadow-inner text-sm font-bold text-gray-700">
                                <span className={`status-dot ${
                                    connectionStatus === 'loading' ? 'status-loading' : 
                                    connectionStatus === 'success' ? 'status-success' : 'status-error'
                                }`}></span>
                                {connectionStatus === 'loading' ? 'é›²ç«¯è®€å–ä¸­...' : 
                                 connectionStatus === 'success' ? 'é›²ç«¯å·²åŒæ­¥' : 'é›²ç«¯é€£ç·šå¤±æ•—'}
                            </div>
                            
                            {/* ç¸½é€²åº¦æ¢ */}
                            {isLocked && (
                                <div className="w-full md:w-64 bg-white p-3 rounded-xl border border-amber-100 shadow-sm">
                                    <div className="flex justify-between text-xs font-bold text-amber-800 mb-1">
                                        <span>ä¿®ç…‰ç¸½é€²åº¦</span>
                                        <span>{progressPercent}% (å· {completedDays.length}/{totalPages})</span>
                                    </div>
                                    <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner">
                                        <div 
                                            className="bg-gradient-to-r from-amber-400 to-amber-600 h-3 rounded-full transition-all duration-1000 ease-out flex items-center justify-end" 
                                            style={{ width: `${progressPercent}%` }}
                                        >
                                            {progressPercent > 0 && <div className="w-full h-full animate-pulse bg-white/20"></div>}
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        {/* Left Column: User Profile & Login */}
                        <div className="lg:col-span-3 space-y-6">
                            <div className="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-md border-2 border-amber-200 h-full flex flex-col">
                                <h3 className="text-xl font-black text-amber-900 mb-4 flex items-center border-b border-amber-100 pb-2">
                                    <Icon path={icons.login} className="w-6 h-6 mr-2"/> æŒ‘æˆ°è€…ç™»å…¥
                                </h3>
                                
                                <div className="flex-1 flex flex-col gap-4">
                                    <div className="relative">
                                        <label className="block text-sm font-bold text-gray-500 mb-1">ä¸»å…¬å§“å</label>
                                        <input 
                                            type="text" 
                                            value={userName}
                                            onChange={(e) => !isLocked && setUserName(e.target.value)}
                                            placeholder="è«‹è¼¸å…¥å§“å"
                                            disabled={isLocked}
                                            className={`w-full border-2 rounded-xl px-4 py-3 outline-none transition-all text-lg font-bold ${isLocked ? 'bg-green-50 text-green-800 border-green-200 cursor-not-allowed' : (showNameWarning ? 'border-red-500 bg-red-50 ring-2 ring-red-200 animate-shake' : 'border-amber-300 focus:ring-4 focus:ring-amber-200')}`}
                                        />
                                        {showNameWarning && <div className="text-xs text-red-500 font-bold mt-1 ml-1 animate-pulse">* è«‹å…ˆè¼¸å…¥å§“å</div>}
                                    </div>

                                    {!isLocked ? (
                                        <button onClick={() => { onLogin(); triggerMusic(); }} className="w-full bg-amber-600 hover:bg-amber-700 text-white py-3 rounded-xl text-lg font-bold shadow-md transform active:scale-95 transition-all flex justify-center items-center">
                                            <Icon path={icons.login} className="w-5 h-5 mr-2"/> é–‹å§‹å†’éšª
                                        </button>
                                    ) : (
                                        <div className="grid grid-cols-2 gap-3">
                                            <button onClick={onLogout} className="bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-bold transition-colors flex justify-center items-center">
                                                <Icon path={icons.logout} className="w-4 h-4 mr-2"/> ç™»å‡º
                                            </button>
                                            <button onClick={onDeleteUser} className="bg-red-50 hover:bg-red-100 text-red-600 py-3 rounded-xl font-bold transition-colors flex justify-center items-center" title="åˆªé™¤ä½¿ç”¨è€…">
                                                <Icon path={icons.userX} className="w-4 h-4 mr-2"/> åˆªé™¤
                                            </button>
                                        </div>
                                    )}

                                    {/* å¿«é€Ÿç™»å…¥ */}
                                    {!isLocked && (
                                        <div className="mt-4 bg-amber-50 rounded-xl p-3 border border-amber-100 flex-1">
                                            <div className="text-xs text-amber-800 font-bold mb-2 flex items-center">
                                                <Icon path={icons.lightning} className="w-3 h-3 mr-1"/> æ­·å²æŒ‘æˆ°è€…
                                            </div>
                                            <div className="flex flex-wrap gap-2 max-h-40 overflow-y-auto content-start">
                                                {globalUsers.length > 0 ? (
                                                    globalUsers.map((u, idx) => (
                                                        <button 
                                                            key={idx}
                                                            onClick={() => { onQuickLogin(u); triggerMusic(); }}
                                                            className="bg-white hover:bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-sm font-bold border border-blue-100 shadow-sm transition-all hover:-translate-y-0.5"
                                                        >
                                                            {u}
                                                        </button>
                                                    ))
                                                ) : (
                                                    <div className="w-full text-center text-gray-400 text-xs py-4 italic">
                                                        å°šç„¡ç´€éŒ„ï¼Œæ­¡è¿åŠ å…¥ï¼
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Right Column: Main Content */}
                        <div className="lg:col-span-9 space-y-6">
                            {/* ä¿®ç…‰é€²åº¦åœ°åœ– */}
                            <div className="bg-white/90 backdrop-blur rounded-2xl p-6 shadow-md border-2 border-blue-100">
                                <h3 className="text-2xl font-black text-blue-900 mb-6 flex items-center">
                                    ğŸ—ºï¸ ä¿®ç…‰é€²åº¦åœ°åœ– <span className="ml-3 text-sm font-bold text-blue-500 bg-blue-50 px-2 py-1 rounded-lg">å…± {totalPages} é—œ</span>
                                </h3>
                                <div className="max-h-96 overflow-y-auto pr-2 custom-scrollbar">
                                    <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                                        {Array.from({ length: totalPages }).map((_, i) => {
                                            const status = getLevelStatus(i);
                                            return (
                                                <button 
                                                    key={i}
                                                    onClick={() => { onStartQuiz('ç²¾é¸å­—éŸ³', i); triggerMusic(); }}
                                                    className={`relative p-4 rounded-xl border-2 flex flex-col items-center justify-center gap-2 transition-all h-32 group
                                                        ${status.completed 
                                                            ? 'bg-green-50 border-green-200 hover:border-green-400' 
                                                            : 'bg-white border-gray-200 hover:border-amber-400 hover:shadow-md'
                                                        }`}
                                                >
                                                    <div className={`text-lg font-black ${status.completed ? 'text-green-700' : 'text-gray-600'}`}>
                                                        å· {i + 1}
                                                    </div>
                                                    {status.completed ? (
                                                        <div className="flex flex-col items-center">
                                                            <div className="bg-green-100 text-green-600 p-1 rounded-full mb-1">
                                                                <Icon path={icons.check} className="w-6 h-6"/>
                                                            </div>
                                                            <span className="text-sm font-mono text-green-600 font-bold bg-green-100/50 px-2 py-0.5 rounded">{status.date}</span>
                                                        </div>
                                                    ) : (
                                                        <div className="text-gray-300 group-hover:text-amber-400 transition-colors">
                                                            <Icon path={icons.lock} className="w-8 h-8"/>
                                                        </div>
                                                    )}
                                                    {!status.completed && (
                                                        <div className="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center">
                                                            <span className="bg-white px-3 py-1 rounded-full text-xs font-bold text-amber-600 shadow-sm">æŒ‘æˆ°</span>
                                                        </div>
                                                    )}
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>

                            {/* Main Cards (Learning & My Favorites & Waterfall) */}
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                {/* å­¸ç¿’æ¨¡å¼ */}
                                <div className="bg-white/90 backdrop-blur rounded-2xl p-6 shadow-md border-2 border-amber-100 hover:border-amber-300 transition-all group relative overflow-hidden cursor-pointer" onClick={() => { onStartLearn('ç²¾é¸å­—éŸ³'); triggerMusic(); }}>
                                    <div className="absolute -right-6 -top-6 w-24 h-24 bg-amber-100 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                                    <h3 className="text-2xl font-black text-amber-900 mb-2 relative z-10">ğŸ“– ç ”è®€å­—éŸ³</h3>
                                    <p className="text-gray-500 mb-6 relative z-10 h-16 text-sm">ç€è¦½æ‰€æœ‰æ˜“æ··æ·†å­—éŸ³ï¼Œå­¸ç¿’é‡‹ç¾©èˆ‡æ‡‰ç”¨ç¯„ä¾‹ã€‚</p>
                                    <div className="flex gap-3 relative z-10">
                                        <button className="flex-1 bg-amber-100 hover:bg-amber-200 text-amber-800 py-3 rounded-xl font-bold transition-colors flex items-center justify-center">
                                            <Icon path={icons.book} className="w-5 h-5 mr-2"/> é–‹å§‹ç ”è®€
                                        </button>
                                    </div>
                                </div>

                                {/* æˆ‘çš„æ”¶è— */}
                                <div className="bg-white/90 backdrop-blur rounded-2xl p-6 shadow-md border-2 border-rose-100 hover:border-rose-300 transition-all group relative overflow-hidden">
                                    <div className="absolute -right-6 -top-6 w-24 h-24 bg-rose-100 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                                    <div className="flex justify-between items-start relative z-10 mb-2">
                                        <h3 className="text-2xl font-black text-rose-900 flex items-center"><Icon path={icons.heart} className="w-6 h-6 mr-2 text-rose-500" fill="currentColor"/> æˆ‘çš„æ”¶è—</h3>
                                        <span className="bg-rose-100 text-rose-600 text-xs font-bold px-2 py-1 rounded-full">{favorites.length}</span>
                                    </div>
                                    <p className="text-gray-500 mb-6 relative z-10 h-16 text-sm">è¤‡ç¿’æ‚¨æ”¶è—çš„é‡é»å­—éŸ³ï¼Œéš¨æ™‚æº«æ•…çŸ¥æ–°ã€‚</p>
                                    <div className="flex gap-3 relative z-10">
                                        <button onClick={() => { onStartLearn('æ”¶è—å¤¾'); triggerMusic(); }} disabled={favorites.length===0} className="flex-1 bg-rose-50 hover:bg-rose-100 text-rose-700 py-3 rounded-xl font-bold transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                                            <Icon path={icons.book} className="w-5 h-5 mr-2"/> æº«æ•…
                                        </button>
                                        <button onClick={() => { onStartQuiz('æ”¶è—å¤¾'); triggerMusic(); }} disabled={favorites.length===0} className="flex-1 bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-xl font-bold shadow-md transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                                            <Icon path={icons.play} className="w-5 h-5 mr-2"/> çŸ¥æ–°
                                        </button>
                                    </div>
                                </div>

                                {/* ç€‘å¸ƒåˆ·é¡Œ */}
                                <div className="bg-white/90 backdrop-blur rounded-2xl p-6 shadow-md border-2 border-cyan-100 hover:border-cyan-300 transition-all group relative overflow-hidden">
                                    <div className="absolute -right-6 -top-6 w-24 h-24 bg-cyan-100 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                                    <h3 className="text-2xl font-black text-cyan-900 mb-2 relative z-10 flex items-center"><Icon path={icons.activity} className="w-6 h-6 mr-2 text-cyan-600"/> ç€‘å¸ƒåˆ·é¡Œ</h3>
                                    <p className="text-gray-500 mb-6 relative z-10 h-16 text-sm">ä¸åˆ†å·æ•¸ï¼Œä¸€æ¬¡æŒ‘æˆ°æ‰€æœ‰é¡Œç›®ï¼Œæ¥µé€Ÿè¤‡ç¿’ã€‚</p>
                                    <div className="flex gap-3 relative z-10">
                                        <button onClick={() => { onStartWaterfall(); triggerMusic(); }} className="flex-1 bg-cyan-100 hover:bg-cyan-200 text-cyan-800 py-3 rounded-xl font-bold transition-colors flex items-center justify-center">
                                            <Icon path={icons.activity} className="w-5 h-5 mr-2"/> ç«‹å³é–‹åˆ·
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Secondary Actions Grid */}
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <button onClick={onViewTable} className="bg-white/80 hover:bg-purple-50 border-2 border-purple-100 hover:border-purple-300 p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 transition-all group">
                                    <div className="bg-purple-100 text-purple-500 p-3 rounded-full mb-1 shadow-sm group-hover:scale-110 transition-transform"><Icon path={icons.list} className="w-6 h-6"/></div>
                                    <span className="font-bold text-gray-700">å­—éŸ³ç¸½è¦½</span>
                                </button>

                                <button onClick={onViewMistakes} className="bg-white/80 hover:bg-red-50 border-2 border-red-100 hover:border-red-300 p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 transition-all">
                                    <div className="bg-red-100 text-red-500 p-3 rounded-full mb-1"><Icon path={icons.alert} className="w-6 h-6"/></div>
                                    <span className="font-bold text-gray-700">éŒ¯é¡Œæœ¬</span>
                                    <span className="text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full">{mistakeLog.length}</span>
                                </button>

                                <button onClick={onViewHistory} className="bg-white/80 hover:bg-blue-50 border-2 border-blue-100 hover:border-blue-300 p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 transition-all">
                                    <div className="bg-blue-100 text-blue-500 p-3 rounded-full mb-1"><Icon path={icons.history} className="w-6 h-6"/></div>
                                    <span className="font-bold text-gray-700">æˆ°ç¸¾è¡¨</span>
                                </button>

                                <button onClick={onPrintExam} className="bg-white/80 hover:bg-gray-50 border-2 border-gray-200 hover:border-gray-400 p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 transition-all">
                                    <div className="bg-gray-100 text-gray-600 p-3 rounded-full mb-1"><Icon path={icons.print} className="w-6 h-6"/></div>
                                    <span className="font-bold text-gray-700">åˆ—å°è€ƒå·</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div className="mt-12 text-center text-gray-500 text-sm font-medium bg-white/50 backdrop-blur rounded-full py-2 inline-block px-6 mx-auto w-full md:w-auto">
                        &copy; 2025 å­—éŸ³å¤§å¸« â€¢ äº’å‹•å¼å­¸ç¿’ç³»çµ±
                    </div>
                </div>
            );
        };

        const MistakeView = ({ mistakes, mistakeLog, setMistakeLog, onMenu, onReviewAll }) => {
            return (
                <div className="max-w-7xl mx-auto px-4 py-8 mt-12 animate-fade-in-up">
                    <div className="flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4">
                        <div className="flex items-center">
                            <button onClick={onMenu} className="mr-4 p-3 bg-white rounded-xl shadow border border-gray-200 hover:bg-gray-50"><Icon path={icons.left} className="w-5 h-5"/></button>
                            <h2 className="text-3xl font-black text-gray-800 flex items-center"><Icon path={icons.alert} className="w-8 h-8 text-red-500 mr-3"/> éŒ¯é¡Œè»ä»¤ç‹€</h2>
                        </div>
                        {mistakes.length > 0 && (
                            <div className="flex gap-2">
                                <button onClick={onReviewAll} className="px-6 py-3 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-700 font-bold flex items-center justify-center">
                                    <Icon path={icons.play} className="w-5 h-5 mr-2" fill="currentColor"/>
                                    ç«‹å³è¤‡ç¿’ ({mistakes.length})
                                </button>
                                <button onClick={() => {if(confirm('ç¢ºå®šæ¸…ç©ºéŒ¯é¡Œæœ¬ï¼Ÿé€™å°‡ç§»é™¤æ‰€æœ‰éŒ¯èª¤ç´€éŒ„ã€‚')) { setMistakeLog([]); } }} className="px-6 py-3 bg-white text-gray-500 rounded-xl shadow border border-gray-200 hover:bg-gray-50 font-bold">
                                    <Icon path={icons.trash} className="w-5 h-5"/>
                                </button>
                            </div>
                        )}
                    </div>

                    {mistakes.length === 0 ? (
                        <div className="text-center py-32 bg-white/80 backdrop-blur rounded-3xl shadow-sm border border-green-100">
                            <div className="text-8xl mb-6">ğŸ‰</div>
                            <p className="text-2xl text-gray-800 font-black mb-2">å¤ªæ£’äº†ï¼</p>
                            <p className="text-gray-500">ç›®å‰æ²’æœ‰éŒ¯é¡Œç´€éŒ„ï¼Œç¹¼çºŒä¿æŒï¼</p>
                        </div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {mistakes.map(item => { 
                                const log = mistakeLog.find(m => m.id === item.id); 
                                return (
                                    <div key={item.id} className="bg-white rounded-2xl p-6 shadow-sm border-2 border-transparent hover:border-red-200 hover:shadow-md transition-all relative overflow-hidden group flex flex-col">
                                        <div className="flex justify-between items-start mb-3">
                                            <h3 className="text-2xl font-black text-gray-800">
                                                <HighlightedTerm term={item.term} targetChar={item.targetChar} />
                                            </h3>
                                            <span className="bg-red-100 text-red-600 text-xs font-bold px-3 py-1 rounded-full border border-red-200 whitespace-nowrap">
                                                éŒ¯èª¤ {log.count} æ¬¡
                                            </span>
                                        </div>
                                        <div className="text-lg font-bold text-red-600 mb-1 bopomofo">{item.targetZhuyin}</div>
                                        <p className="text-gray-600 text-sm leading-relaxed mb-4 flex-1">{item.definition}</p>
                                        
                                        <div className="border-t border-gray-100 pt-3 flex justify-between items-center text-xs text-gray-400 font-mono mt-auto">
                                            <span>#{String(item.id).padStart(3,'0')}</span>
                                            <span>{new Date(log.lastMissed).toLocaleDateString()}</span>
                                        </div>
                                    </div>
                                ); 
                            })}
                        </div>
                    )}
                </div>
            );
        };

        const TableView = ({ items, onMenu, favorites, toggleFavorite }) => {
            const [searchTerm, setSearchTerm] = useState("");
            const filteredItems = useMemo(() => {
                if (!searchTerm.trim()) return items;
                const lowerTerm = searchTerm.toLowerCase();
                return items.filter(item => String(item.id).includes(lowerTerm) || item.term.includes(lowerTerm) || item.definition.includes(lowerTerm) || item.targetZhuyin.includes(lowerTerm));
            }, [items, searchTerm]);

            return (
                <div className="max-w-7xl mx-auto px-4 py-8 animate-fade-in-up mt-12 no-print">
                    <div className="bg-white/95 backdrop-blur-md rounded-2xl shadow-xl overflow-hidden border border-gray-200 flex flex-col h-[85vh]">
                        <div className="p-6 border-b border-gray-200 bg-gray-50 flex flex-col md:flex-row justify-between items-center gap-4">
                            <div className="flex items-center gap-4 w-full md:w-auto">
                                <button onClick={onMenu} className="flex items-center text-gray-600 hover:text-gray-900 font-bold bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors shadow-sm"><Icon path={icons.left} className="w-5 h-5 mr-2"/> è¿”å›</button>
                                <h2 className="text-2xl font-black text-gray-800 flex items-center"><Icon path={icons.list} className="w-6 h-6 mr-3 text-purple-600"/> å­—éŸ³ä¸€è¦½è¡¨ <span className="ml-3 text-sm font-normal text-gray-500 bg-gray-200 px-2 py-1 rounded-full">å…± {items.length} å‰‡</span></h2>
                            </div>
                            <div className="relative w-full md:w-96">
                                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400"><Icon path={icons.search} className="w-5 h-5"/></div>
                                <input type="text" placeholder="æœå°‹èªè©ã€æ³¨éŸ³..." className="pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl w-full focus:ring-4 focus:ring-purple-100 focus:border-purple-500 outline-none transition-all" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                            </div>
                        </div>
                        <div className="flex-1 overflow-auto bg-white p-0">
                            <table className="w-full text-left border-collapse prose-table">
                                <thead className="bg-purple-50 sticky top-0 z-10 shadow-sm"><tr><th className="p-2 text-center w-12">æ”¶è—</th><th className="p-2 text-center w-12">ç·¨è™Ÿ</th><th className="p-4 w-48">èªè© (é‡é»)</th><th className="p-4 w-32">æ­£ç¢ºæ³¨éŸ³</th><th className="p-4">é‡‹ç¾©èˆ‡ä¾‹å¥</th></tr></thead>
                                <tbody className="divide-y divide-gray-100">{filteredItems.map(item => (<tr key={item.id} className="hover:bg-purple-50/50 transition-colors"><td className="p-2 text-center"><button onClick={() => toggleFavorite(item.id)}><Icon path={icons.heart} className={`w-6 h-6 ${favorites.includes(item.id) ? "text-red-500" : "text-gray-300 hover:text-red-400"}`} fill={favorites.includes(item.id) ? "currentColor" : "none"} /></button></td><td className="p-2 text-center font-mono text-gray-500">{item.id}</td><td className="p-4 font-bold text-gray-900"><HighlightedTerm term={item.term} targetChar={item.targetChar} /></td><td className="p-4 font-black text-red-600 bopomofo">{item.targetZhuyin}</td><td className="p-4"><div className="text-gray-800 font-medium mb-1">{item.definition}</div><div className="text-gray-500 text-sm italic">{item.sentence}</div></td></tr>))}</tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        };

        const LearnView = ({ items, learnPage, setLearnPage, favorites, toggleFavorite, completedDays, onMenu }) => {
            const totalPages = Math.ceil(items.length / ITEMS_PER_PAGE);
            const currentItems = items.slice(learnPage * ITEMS_PER_PAGE, (learnPage + 1) * ITEMS_PER_PAGE);
            const scrollRef = useRef(null);
            useEffect(() => { if (scrollRef.current) scrollRef.current.scrollTop = 0; window.scrollTo(0, 0); }, [learnPage]);

            return (
                <div className="max-w-4xl mx-auto px-4 py-6 mt-12 no-print" ref={scrollRef}>
                    <div className="bg-white/90 backdrop-blur-md p-4 rounded-xl shadow-sm mb-8 flex flex-col md:flex-row justify-between items-center sticky top-16 z-30 border-b-2 border-amber-200">
                        <div className="flex items-center gap-4 mb-4 md:mb-0 w-full md:w-auto">
                            <button onClick={onMenu} className="text-gray-500 hover:text-gray-900 flex items-center whitespace-nowrap bg-gray-100 px-3 py-2 rounded-lg font-bold"><Icon path={icons.menu} className="w-5 h-5 mr-2"/> é¸å–®</button>
                            <h2 className="text-2xl font-black flex items-center whitespace-nowrap text-amber-900">ğŸ“– å…¸æ•…å·è»¸</h2>
                        </div>
                        <div className="flex overflow-x-auto overflow-y-hidden max-w-full w-full md:w-auto pb-2 md:pb-0 gap-2 mt-2 md:mt-0">
                            {Array.from({ length: totalPages }).map((_, i) => (<button key={i} onClick={() => setLearnPage(i)} className={`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap flex items-center gap-2 transition-all flex-shrink-0 ${learnPage === i ? 'bg-amber-600 text-white shadow-md transform scale-105' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>å· {i + 1} {completedDays.some(item => item.id === `ç²¾é¸å­—éŸ³-${i}`) && <span className="bg-green-400 text-white text-[10px] px-1.5 py-0.5 rounded-full">âœ“</span>}</button>))}
                        </div>
                    </div>
                    <div className="space-y-8">
                        {currentItems.map((item, idx) => (
                            <div key={item.id} className="bg-white/95 backdrop-blur-sm rounded-2xl p-6 md:p-8 shadow-sm border border-amber-100 relative group hover:shadow-lg transition-all animate-fade-in-up" style={{animationDelay: `${idx * 0.05}s`}}>
                                <button onClick={() => toggleFavorite(item.id)} className="absolute top-6 right-6 text-gray-200 hover:text-red-500 z-10 transition-colors"><Icon path={icons.heart} className={`w-8 h-8 drop-shadow-sm ${favorites.includes(item.id) ? "text-red-500" : ""}`} fill={favorites.includes(item.id) ? "currentColor" : "none"} /></button>
                                <div className="flex flex-col md:flex-row gap-8">
                                    <div className="flex-1">
                                        <div className="flex items-baseline gap-3 mb-3 flex-wrap pr-10"><span className="text-amber-300 font-mono text-xl font-black">#{String(item.id).padStart(3,'0')}</span><h3 className="text-3xl font-black text-gray-900 tracking-tight"><HighlightedTerm term={item.term} targetChar={item.targetChar} /></h3></div>
                                        <div className="mb-4 flex items-center gap-4">
                                            <div className="text-2xl font-black text-red-600 bopomofo bg-red-50 px-3 py-1 rounded-lg border border-red-100">{item.targetZhuyin}</div>
                                            <div className="text-lg text-gray-500 bopomofo">{item.fullZhuyin}</div>
                                        </div>
                                        <div className="bg-gradient-to-r from-amber-50 to-transparent p-4 rounded-xl text-amber-900 mb-6 text-lg font-medium border-l-8 border-amber-400">{item.definition}</div>
                                        <div className="text-gray-600 leading-relaxed pl-4 italic border-l-4 border-gray-300 text-lg bg-gray-50 py-2 pr-2 rounded-r-lg"><span className="font-bold not-italic text-gray-400 mr-2 text-sm">ä¾‹å¥</span>{item.sentence}</div>
                                    </div>
                                    <div className="w-full md:w-96 flex-shrink-0 flex flex-col items-center"><div className="bg-white p-2 border-2 border-gray-100 rounded-2xl w-full shadow-sm"><div className="rounded-xl overflow-hidden bg-gray-200 aspect-[1280/896] relative group-img cursor-pointer w-full shadow-md"><img src={`Chinese-Pronunciation-1-images/p${String(item.id).padStart(3, '0')}.jpg`} alt={item.scene} loading="lazy" className="w-full h-full object-cover transition-transform duration-700 hover:scale-110" onError={(e) => { e.target.onerror = null; e.target.parentNode.innerHTML = `<div class="w-full h-full flex flex-col items-center justify-center bg-gray-100 text-gray-400 p-4 text-center"><span class="text-sm font-bold text-gray-500">${item.scene}</span></div>`; }} /></div></div></div>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="h-20"></div>
                </div>
            );
        };

        const QuizView = ({ questions, score, userName, combo, onAnswer, onFinish, onMenu, onViewHistory, favorites, toggleFavorite, totalItems, quizPage, onPageChange, completedDays, activeCategory }) => {
            const [showResult, setShowResult] = useState(false);
            const isFinished = questions.length > 0 && questions.every(q => q.userAnswer !== null);
            const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
            useEffect(() => { if (isFinished && !showResult) { const timer = setTimeout(() => { onFinish(); setShowResult(true); }, 800); return () => clearTimeout(timer); } }, [isFinished]);

            if (showResult) {
                 return (
                    <div className="max-w-2xl mx-auto pt-10 px-4 animate-fade-in-up mt-12 no-print">
                        <div className="bg-white rounded-3xl shadow-2xl overflow-hidden text-center border-4 border-amber-400">
                            <div className="bg-amber-500 p-10 text-white relative overflow-hidden"><h2 className="text-4xl font-black mb-2 font-serif relative z-10">æˆ°å½¹çµæŸ</h2><p className="opacity-90 font-bold text-lg relative z-10">ä¸»å…¬ {userName} è¾›è‹¦äº†</p></div>
                            <div className="p-10">
                                <div className="text-8xl font-black text-amber-600 mb-2 font-mono tracking-tighter">{score} <span className="text-3xl text-gray-300 font-bold">/ {questions.length}</span></div>
                                <div className="flex justify-center gap-4 mb-10"><div className="flex-1 bg-green-50 text-green-700 py-4 rounded-2xl font-black text-xl border-2 border-green-200">å¤§æ· {score}</div><div className="flex-1 bg-red-50 text-red-700 py-4 rounded-2xl font-black text-xl border-2 border-red-200">å¤±åˆ© {questions.length - score}</div></div>
                                <div className="flex flex-col gap-4"><button onClick={onMenu} className="w-full py-4 bg-gray-100 hover:bg-gray-200 rounded-2xl font-black text-gray-700 text-xl transition-colors">è¿”å›å¤§ç‡Ÿ</button><button onClick={onViewHistory} className="w-full py-4 bg-amber-600 hover:bg-amber-700 rounded-2xl font-black text-white shadow-xl shadow-amber-200 text-xl transition-all transform active:scale-95">æŸ¥çœ‹è©³ç´°æˆ°å ±</button></div>
                            </div>
                        </div>
                    </div>
                );
            }
            return (
                <div className="max-w-4xl mx-auto pb-20 px-4 mt-12 no-print">
                    <div className="bg-white/95 backdrop-blur shadow-sm p-4 rounded-b-2xl mb-8 sticky top-16 z-30 border-t-4 border-amber-500 flex flex-col md:flex-row justify-between items-center transition-all">
                        <div className="flex items-center gap-4 mb-4 md:mb-0 w-full md:w-auto justify-between md:justify-start"><button onClick={onMenu} className="text-gray-500 text-sm flex items-center hover:text-red-600 font-bold bg-gray-100 px-3 py-2 rounded-lg transition-colors"><Icon path={icons.left} className="w-4 h-4 mr-1"/> æ’¤é€€</button><div className="font-bold text-xl flex items-center gap-3"><span>{userName}</span><span className="bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-black border border-amber-200">æˆ°åŠŸ: {score}</span></div></div>
                        
                        {activeCategory !== 'waterfall' && (
                            <div className="flex overflow-x-auto overflow-y-hidden max-w-full w-full md:w-auto pb-1 md:pb-0 gap-2">
                                {Array.from({ length: totalPages }).map((_, i) => (<button key={i} onClick={() => onPageChange(i)} className={`px-3 py-1.5 rounded-md text-xs font-bold whitespace-nowrap flex items-center gap-1 transition-all flex-shrink-0 ${quizPage === i ? 'bg-amber-600 text-white shadow-md' : 'bg-gray-100 text-gray-500 hover:bg-gray-200'}`}>å·{i + 1}{completedDays.some(item => item.id === `ç²¾é¸å­—éŸ³-${i}`) && <span className="bg-green-400 text-white text-[10px] w-3 h-3 flex items-center justify-center rounded-full">âœ“</span>}</button>))}
                            </div>
                        )}
                        {activeCategory === 'waterfall' && (
                            <div className="bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-black border border-cyan-200 flex items-center">
                                <Icon path={icons.activity} className="w-4 h-4 mr-1"/> ç€‘å¸ƒæ¨¡å¼
                            </div>
                        )}
                    </div>
                    <div className="space-y-8">
                        {questions.map((q, idx) => (
                            <div key={idx} className={`bg-white/95 backdrop-blur-sm rounded-3xl shadow-sm border-4 overflow-hidden transition-all duration-500 relative ${q.userAnswer === null ? 'border-transparent shadow-md' : (q.isCorrect ? 'border-green-200 bg-green-50/20' : 'border-red-200 bg-red-50/20')}`}>
                                <button onClick={() => toggleFavorite(q.id)} className="absolute top-5 right-5 z-10 transition-colors p-2 rounded-full bg-white/50 hover:bg-white"><Icon path={icons.heart} className={`w-7 h-7 ${favorites.includes(q.id) ? 'text-red-500' : 'text-gray-300'}`} fill={favorites.includes(q.id) ? "currentColor" : "none"} /></button>
                                <div className="p-8 border-b border-gray-100">
                                    <div className="flex justify-between items-center mb-6"><span className="font-black text-amber-900 tracking-wider text-sm bg-amber-100 px-3 py-1 rounded-full border border-amber-200">å•é¡Œ {idx + 1}</span>{q.userAnswer !== null && (q.isCorrect ? <span className="text-green-600 font-black flex items-center text-lg animate-pop mr-12"><Icon path={icons.check} className="w-6 h-6 mr-1"/> æ­£ç¢º</span> : <span className="text-red-600 font-black flex items-center text-lg animate-shake mr-12"><Icon path={icons.alert} className="w-6 h-6 mr-1"/> éŒ¯èª¤</span>)}</div>
                                    <div className="text-center">
                                        <div className="text-gray-500 font-bold mb-2">è«‹é¸å‡ºç´…å­—çš„æ­£ç¢ºè®€éŸ³</div>
                                        <div className="text-4xl md:text-5xl font-black text-gray-800 leading-relaxed mb-4">
                                            <HighlightedTerm term={q.term} targetChar={q.targetChar} />
                                        </div>
                                    </div>
                                </div>
                                <div className="p-6 bg-gray-50/50">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {q.options.map(opt => { 
                                            let btnClass = "p-5 rounded-2xl border-2 text-center font-bold text-2xl transition-all relative overflow-hidden bopomofo "; 
                                            if (q.userAnswer === null) btnClass += "bg-white border-gray-200 hover:border-amber-400 hover:shadow-md cursor-pointer active:scale-[0.98] text-gray-700"; 
                                            else { 
                                                // ID is the zhuyin string here
                                                if (opt.id === q.targetZhuyin) btnClass += "bg-green-100 border-green-500 text-green-800 ring-2 ring-green-200 shadow-md"; 
                                                else if (opt.id === q.userAnswer) btnClass += "bg-red-100 border-red-500 text-red-800 opacity-80"; 
                                                else btnClass += "bg-gray-50 border-gray-200 text-gray-300 opacity-40 grayscale"; 
                                            } 
                                            return (
                                                <button key={opt.id} onClick={() => onAnswer(idx, opt.id)} disabled={q.userAnswer !== null} className={btnClass}>
                                                    {opt.text}
                                                    {q.userAnswer !== null && opt.id === q.targetZhuyin && <div className="absolute right-4 top-1/2 -translate-y-1/2 text-green-600 bg-white rounded-full p-1"><Icon path={icons.check} className="w-5 h-5"/></div>}
                                                </button>
                                            )
                                        })}
                                    </div>
                                </div>
                                
                                {q.userAnswer !== null && !q.isCorrect && (
                                    <div className="p-6 bg-red-50/50 border-t border-red-100 animate-fade-in-up">
                                        <div className="bg-white rounded-xl p-5 border border-red-200 flex flex-col md:flex-row gap-5 items-start shadow-sm">
                                            <div className="w-full md:w-40 aspect-[1280/896] rounded-lg overflow-hidden border border-gray-200 bg-gray-100 flex-shrink-0">
                                                <img 
                                                    src={`Chinese-Pronunciation-1-images/p${String(q.id).padStart(3, '0')}.jpg`}
                                                    className="w-full h-full object-cover" 
                                                    onError={(e) => {
                                                        e.target.onerror = null; 
                                                        e.target.parentNode.innerHTML = `<div class="w-full h-full flex items-center justify-center bg-gray-100 text-gray-400 text-xs p-2 text-center">${q.scene || 'ç„¡åœ–ç‰‡'}</div>`;
                                                    }}
                                                />
                                            </div>
                                            <div className="flex-1">
                                                <div className="text-sm font-black text-red-800 mb-1 flex items-center gap-2 uppercase tracking-wide">
                                                    <Icon path={icons.book} className="w-4 h-4"/> è©³è§£
                                                </div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className="text-2xl font-black text-gray-900">{q.term}</div>
                                                    <div className="text-xl font-bold text-red-600 bopomofo">{q.fullZhuyin}</div>
                                                </div>
                                                <div className="text-gray-700 text-base leading-relaxed">{q.definition}</div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const HistoryView = ({ historyLog, setHistoryLog, onMenu }) => {
            const [selectedLog, setSelectedLog] = useState(null);
            if (selectedLog) {
                return (
                    <div className="w-full max-w-4xl mx-auto bg-white/95 backdrop-blur-md min-h-screen p-6 md:p-8 shadow-2xl animate-fade-in-up mt-12 no-print">
                        <div className="flex justify-between items-center mb-8 pb-4 border-b border-gray-200 sticky top-16 bg-white z-20 pt-4"><button onClick={() => setSelectedLog(null)} className="flex items-center text-gray-500 hover:text-amber-800 font-bold text-lg px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors"><Icon path={icons.left} className="w-6 h-6 mr-1"/> è¿”å›</button><div className="text-right"><h2 className="text-2xl font-black text-gray-800">æˆ°å½¹å›æ”¾</h2><p className="text-gray-500 text-sm mt-1 font-mono">{selectedLog.date}</p></div></div>
                        <div className="space-y-6"><div className="flex justify-center mb-8"><div className="text-center"><div className="text-sm text-gray-400 font-bold uppercase mb-1">ç¸½å¾—åˆ†</div><div className="text-5xl font-black text-amber-600">{selectedLog.score} <span className="text-2xl text-gray-300">/ {selectedLog.total}</span></div></div></div>{selectedLog.details.map((d, i) => (<div key={i} className={`p-6 rounded-2xl border-l-8 shadow-sm ${d.isCorrect ? 'border-green-400 bg-green-50/30' : 'border-red-400 bg-red-50/30'}`}><div className="mb-3 font-bold text-gray-800 text-xl leading-relaxed">{d.term}</div><div className="flex flex-col md:flex-row md:items-center gap-2 md:gap-6 bg-white/50 p-3 rounded-lg"><div className="flex items-center"><span className="text-gray-400 text-xs font-bold uppercase mr-2">æ‚¨çš„é¸æ“‡</span><span className={`text-lg font-bold bopomofo ${d.isCorrect ? "text-green-700" : "text-red-600 line-through decoration-2"}`}>{d.userAnswer}</span></div>{!d.isCorrect && (<div className="flex items-center"><span className="text-gray-400 text-xs font-bold uppercase mr-2">æ­£è§£</span><span className="text-green-700 text-lg font-black bopomofo">{d.correctAnswer}</span></div>)}</div></div>))}</div>
                        <div className="h-20"></div>
                    </div>
                )
            }
            return (
                <div className="max-w-4xl mx-auto px-4 py-8 mt-12 no-print">
                    <div className="flex items-center mb-8"><button onClick={onMenu} className="mr-4 p-3 bg-white rounded-xl shadow border border-gray-200 hover:bg-gray-50"><Icon path={icons.left} className="w-5 h-5"/></button><h2 className="text-3xl font-black text-gray-800 flex items-center gap-3">ğŸ“œ æ­·å²æˆ°ç¸¾ <span className="text-sm font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full">{historyLog.length} å ´</span></h2></div>
                    {historyLog.length === 0 ? (
                        <div className="text-center py-32 text-gray-400 border-2 border-dashed border-gray-200 rounded-3xl bg-white/80 backdrop-blur"><Icon path={icons.history} className="w-16 h-16 mx-auto mb-4 text-gray-300"/><p className="text-xl font-bold">å°šç„¡æˆ°å½¹ç´€éŒ„</p></div>
                    ) : (
                        <div className="bg-white/95 backdrop-blur-md rounded-3xl shadow-lg overflow-hidden border border-gray-200"><table className="w-full text-left border-collapse"><thead className="bg-amber-50 border-b border-amber-100"><tr><th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider hidden md:table-cell">æ—¥æœŸ</th><th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider">ä¸»å…¬</th><th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider">æˆ°åŠŸ</th><th className="p-5 text-right">æ“ä½œ</th></tr></thead><tbody className="divide-y divide-gray-100">{historyLog.map(log => (<tr key={log.id} className="hover:bg-amber-50/50 transition-colors"><td className="p-5 text-gray-500 text-sm font-mono hidden md:table-cell">{log.date.split(',')[0]}</td><td className="p-5 font-bold text-gray-800">{log.userName}</td><td className="p-5"><span className="font-black px-3 py-1 rounded-lg text-sm bg-gray-100 text-gray-700 border border-gray-200">{log.score} <span className="text-gray-400 font-normal">/ {log.total}</span></span></td><td className="p-5 text-right"><button onClick={() => setSelectedLog(log)} className="text-amber-600 hover:text-white hover:bg-amber-600 px-4 py-2 rounded-lg text-sm font-bold transition-all border border-amber-200 hover:border-amber-600">æŸ¥çœ‹</button></td></tr>))}</tbody></table></div>
                    )}
                    <div className="text-center mt-12 pb-10"><button onClick={() => {if(confirm('ç¢ºå®šç„šæ¯€æ‰€æœ‰æˆ°å ±ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸï¼')) setHistoryLog([])}} className="text-red-400 hover:text-red-600 text-sm flex items-center justify-center mx-auto hover:bg-red-50/80 px-4 py-2 rounded-lg transition-colors"><Icon path={icons.trash} className="w-4 h-4 mr-2"/> æ¸…é™¤æ‰€æœ‰ç´€éŒ„</button></div>
                </div>
            );
        };

        // App Component
        const App = () => {
            const parsedData = useMemo(() => ({ "ç²¾é¸å­—éŸ³": WORD_DATA }), []);
            const allItems = WORD_DATA;
            const [currentMode, setCurrentMode] = useState('menu'); 
            const [activeCategory, setActiveCategory] = useState(null);
            const [showNameWarning, setShowNameWarning] = useState(false);
            const [userName, setUserName] = useState('');
            const [isLocked, setIsLocked] = useState(false);
            const [connectionStatus, setConnectionStatus] = useState('loading'); 
            const [isFirebaseReady, setIsFirebaseReady] = useState(false);
            const [globalUsers, setGlobalUsers] = useState([]);
            const [favorites, setFavorites] = useState([]);
            const [historyLog, setHistoryLog] = useState([]);
            const [mistakeLog, setMistakeLog] = useState([]);
            const [completedDays, setCompletedDays] = useState([]); 
            
            // New Session States
            const [savedLevelSession, setSavedLevelSession] = useState(null);
            const [savedWaterfallSession, setSavedWaterfallSession] = useState(null);

            const [learnPage, setLearnPage] = useState(0);
            const [quizQuestions, setQuizQuestions] = useState([]);
            const [quizScore, setQuizScore] = useState(0);
            const [combo, setCombo] = useState(0);
            const [quizPage, setQuizPage] = useState(0);
            const [lastUser, setLastUser] = useState(null);
            const [bgImage, setBgImage] = useState('');
            const musicPlayerRef = useRef(null);

            const triggerMusic = () => { if(musicPlayerRef.current) musicPlayerRef.current.triggerPlay(); };

            useEffect(() => { const randomNum = Math.floor(Math.random() * 5) + 1; setBgImage(`Chinese-Pronunciation-1-images/san${randomNum}.jpg`); }, []);

            useEffect(() => {
                if (!isFirebaseInitialized) { setConnectionStatus('error'); return; }
                const initAuth = async () => {
                    try {
                        setConnectionStatus('loading');
                        await signInAnonymously(auth);
                        setIsFirebaseReady(true);
                        setConnectionStatus('success');
                        const globalDocRef = doc(db, COLLECTION_NAME, DOC_GLOBAL);
                        const unsubscribeGlobal = onSnapshot(globalDocRef, (docSnap) => {
                            if (docSnap.exists()) { setGlobalUsers(docSnap.data().users || []); } 
                            else { setDoc(globalDocRef, { users: [] }, { merge: true }); }
                        }, () => setConnectionStatus('error'));
                        return unsubscribeGlobal;
                    } catch (error) { setConnectionStatus('error'); setIsFirebaseReady(false); }
                };
                const unsub = initAuth();
                return () => { if(typeof unsub === 'function') unsub(); };
            }, []);

            useEffect(() => {
                if (!isFirebaseReady || !userName || !isLocked) return;
                const userDocRef = doc(db, COLLECTION_NAME, userName);
                const unsubscribeUser = onSnapshot(userDocRef, (docSnap) => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        setFavorites(data.favorites || []);
                        setHistoryLog(data.history || []);
                        setMistakeLog(data.mistakes || []);
                        
                        // Handle backward compatibility for completedDays
                        const loadedProgress = data.progress || [];
                        const formattedProgress = loadedProgress.map(item => {
                            if (typeof item === 'string') {
                                return { id: item, date: 'èˆŠç´€éŒ„', score: 0 };
                            }
                            return item;
                        });
                        setCompletedDays(formattedProgress);
                        
                        // Load separate sessions
                        setSavedLevelSession(data.currentLevelSession || null);
                        setSavedWaterfallSession(data.currentWaterfallSession || null);
                        
                        setConnectionStatus('success');
                    } else {
                        setDoc(userDocRef, { favorites: [], history: [], mistakes: [], progress: [], lastLogin: new Date().toISOString() }, { merge: true });
                    }
                }, () => setConnectionStatus('error'));
                return () => unsubscribeUser();
            }, [isFirebaseReady, userName, isLocked]);

            const updateUserData = async (field, value) => {
                if (!isFirebaseReady || !userName || !isLocked) return;
                try {
                    const userDocRef = doc(db, COLLECTION_NAME, userName);
                    await updateDoc(userDocRef, { [field]: value, lastUpdate: new Date().toISOString() });
                } catch (error) { console.error(`Error updating ${field}:`, error); setConnectionStatus('error'); }
            };

            const handleLogin = async () => { if (userName.trim()) { setIsLocked(true); setShowNameWarning(false); if (isFirebaseReady) { try { const globalDocRef = doc(db, COLLECTION_NAME, DOC_GLOBAL); await updateDoc(globalDocRef, { users: arrayUnion(userName) }); } catch (e) {} } } else { setShowNameWarning(true); } };
            const handleQuickLogin = (name) => { setUserName(name); setIsLocked(true); setShowNameWarning(false); };
            const handleLogout = () => { if(confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ')) { setIsLocked(false); setUserName(''); setFavorites([]); setHistoryLog([]); setMistakeLog([]); setCompletedDays([]); setSavedLevelSession(null); setSavedWaterfallSession(null); } };
            const handleDeleteUser = async () => { if (!isFirebaseReady) { alert("è«‹å…ˆé€£ç·šè‡³é›²ç«¯"); return; } if (confirm('ã€å±éšªæ“ä½œã€‘ç¢ºå®šè¦åˆªé™¤é€™ä½ä½¿ç”¨è€…çš„æ‰€æœ‰è³‡æ–™å—ï¼Ÿ')) { if (confirm('å†æ¬¡ç¢ºèªï¼šé€™å°‡æœƒæ¸…é™¤æ‰€æœ‰å­¸ç¿’ç´€éŒ„ã€æ”¶è—å’ŒéŒ¯é¡Œæœ¬ï¼Œä¸”ç„¡æ³•å¾©åŸï¼ç¢ºå®šè¦åŸ·è¡Œå—ï¼Ÿ')) { try { const globalDocRef = doc(db, COLLECTION_NAME, DOC_GLOBAL); await updateDoc(globalDocRef, { users: arrayRemove(userName) }); const userDocRef = doc(db, COLLECTION_NAME, userName); await setDoc(userDocRef, { deleted: true }); setFavorites([]); setHistoryLog([]); setMistakeLog([]); setCompletedDays([]); setSavedLevelSession(null); setSavedWaterfallSession(null); setIsLocked(false); setUserName(''); } catch (e) { alert("åˆªé™¤å¤±æ•—"); } } } };
            const toggleFavorite = (id) => { const newFavorites = favorites.includes(id) ? favorites.filter(fid => fid !== id) : [...favorites, id]; setFavorites(newFavorites); updateUserData('favorites', newFavorites); };
            const clearHistoryLog = () => { setHistoryLog([]); updateUserData('history', []); };
            const clearMistakeLog = () => { setMistakeLog([]); updateUserData('mistakes', []); };

            const playSoundEffect = (type) => { try { const AudioContext = window.AudioContext || window.webkitAudioContext; if (!AudioContext) return; const ctx = new AudioContext(); const now = ctx.currentTime; if (type === 'correct') { const osc1 = ctx.createOscillator(); const gain1 = ctx.createGain(); osc1.type = 'sine'; osc1.frequency.setValueAtTime(523.25, now); gain1.gain.setValueAtTime(0.1, now); gain1.gain.exponentialRampToValueAtTime(0.001, now + 0.5); osc1.connect(gain1); gain1.connect(ctx.destination); osc1.start(now); osc1.stop(now + 0.5); const osc2 = ctx.createOscillator(); const gain2 = ctx.createGain(); osc2.type = 'sine'; osc2.frequency.setValueAtTime(659.25, now + 0.1); gain2.gain.setValueAtTime(0.1, now + 0.1); gain2.gain.exponentialRampToValueAtTime(0.001, now + 0.6); osc2.connect(gain2); gain2.connect(ctx.destination); osc2.start(now + 0.1); osc2.stop(now + 0.6); } else { const osc = ctx.createOscillator(); const gain = ctx.createGain(); osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.exponentialRampToValueAtTime(50, now + 0.3); gain.gain.setValueAtTime(0.2, now); gain.gain.exponentialRampToValueAtTime(0.001, now + 0.3); osc.connect(gain); gain.connect(ctx.destination); osc.start(now); osc.stop(now + 0.3); } } catch (e) {} };

            // Helper to restore session state
            const restoreSession = (session) => {
                setQuizQuestions(session.questions);
                setQuizScore(session.score);
                setCombo(session.combo);
                setQuizPage(session.pageIdx || 0);
                setActiveCategory(session.category);
                setCurrentMode('quiz');
            };

            const handleStartQuiz = (category, pageIdx = 0, isMistakeMode = false) => {
                if (!isLocked) { setShowNameWarning(true); return; }
                
                // Auto-resume Level Session
                if (savedLevelSession && savedLevelSession.category === category && savedLevelSession.pageIdx === pageIdx && !isMistakeMode) {
                    restoreSession(savedLevelSession);
                    return;
                }

                let questions = [];
                if (isMistakeMode) { const mistakeIds = mistakeLog.map(m => m.id); questions = allItems.filter(i => mistakeIds.includes(i.id)); questions.sort(() => Math.random() - 0.5); } 
                else { 
                    let sourceItems = category === 'æ”¶è—å¤¾' ? allItems.filter(i => favorites.includes(i.id)) : parsedData["ç²¾é¸å­—éŸ³"]; 
                    if (!sourceItems || sourceItems.length === 0) { alert("æ­¤åˆ†é¡å°šç„¡å…§å®¹ï¼"); return; } 
                    const start = pageIdx * ITEMS_PER_PAGE; 
                    if (start >= sourceItems.length && pageIdx > 0) { handleStartQuiz(category, Math.floor((sourceItems.length - 1) / ITEMS_PER_PAGE), isMistakeMode); return; } 
                    questions = sourceItems.slice(start, start + ITEMS_PER_PAGE); 
                }
                if (questions.length === 0) { alert(isMistakeMode ? "ç›®å‰æ²’æœ‰éŒ¯é¡Œï¼" : "æ­¤é é¢ç„¡é¡Œç›®"); return; }
                
                // For Pronunciation: Options are distractors
                const quizSet = questions.map(item => {
                    const correctOption = { id: item.targetZhuyin, text: item.targetZhuyin };
                    const distractorOptions = item.distractors.map(d => ({ id: d, text: d }));
                    const options = [correctOption, ...distractorOptions].sort(() => Math.random() - 0.5);
                    return { ...item, options, userAnswer: null, isCorrect: null };
                });

                setQuizQuestions(quizSet); setQuizScore(0); setCombo(0); setQuizPage(pageIdx); setActiveCategory(isMistakeMode ? 'éŒ¯é¡Œæœ¬' : category); setCurrentMode('quiz'); window.scrollTo(0,0);
            };

            // New Function: Waterfall Mode
            const handleStartWaterfall = () => {
                if (!isLocked) { setShowNameWarning(true); return; }

                // Auto-resume Waterfall Session
                if (savedWaterfallSession) {
                    restoreSession(savedWaterfallSession);
                    return;
                }

                // Create new waterfall session (all items shuffled)
                const questions = [...allItems];
                questions.sort(() => Math.random() - 0.5);

                const quizSet = questions.map(item => {
                    const correctOption = { id: item.targetZhuyin, text: item.targetZhuyin };
                    const distractorOptions = item.distractors.map(d => ({ id: d, text: d }));
                    const options = [correctOption, ...distractorOptions].sort(() => Math.random() - 0.5);
                    return { ...item, options, userAnswer: null, isCorrect: null };
                });

                setQuizQuestions(quizSet);
                setQuizScore(0);
                setCombo(0);
                setQuizPage(0);
                setActiveCategory('waterfall');
                setCurrentMode('quiz');
                window.scrollTo(0,0);
            };

            const handleAnswer = (qIndex, selectedOptionId) => {
                const newQuestions = [...quizQuestions];
                const q = newQuestions[qIndex];
                if (q.userAnswer !== null) return; 
                
                const isCorrect = selectedOptionId === q.targetZhuyin; // Check against targetZhuyin for correctness
                q.userAnswer = selectedOptionId;
                q.isCorrect = isCorrect;
                
                let newScore = quizScore;
                let newCombo = combo;

                if (isCorrect) {
                    newScore = quizScore + 1;
                    newCombo = combo + 1;
                    setQuizScore(newScore);
                    setCombo(newCombo);
                    playSoundEffect('correct');
                    
                    if (newCombo > 0 && newCombo % 5 === 0) {
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    } else {
                        confetti({ particleCount: 30, spread: 50, origin: { y: 0.7 }, scalar: 0.7 });
                    }
                } else {
                    newCombo = 0;
                    setCombo(0);
                    playSoundEffect('wrong');
                    const newMistakeLog = [...mistakeLog];
                    const existingIndex = newMistakeLog.findIndex(m => m.id === q.id);
                    if (existingIndex > -1) { 
                        newMistakeLog[existingIndex] = { ...newMistakeLog[existingIndex], count: newMistakeLog[existingIndex].count + 1, lastMissed: new Date().toISOString() }; 
                    } else { 
                        newMistakeLog.push({ id: q.id, count: 1, lastMissed: new Date().toISOString() }); 
                    }
                    setMistakeLog(newMistakeLog);
                    updateUserData('mistakes', newMistakeLog);
                }
                setQuizQuestions(newQuestions);
                
                // Determine which session to update based on mode
                if (activeCategory !== 'éŒ¯é¡Œæœ¬') {
                    const sessionData = {
                        questions: newQuestions,
                        score: newScore,
                        combo: newCombo,
                        category: activeCategory,
                        pageIdx: quizPage,
                        timestamp: new Date().toISOString()
                    };
                    
                    const fieldName = activeCategory === 'waterfall' ? 'currentWaterfallSession' : 'currentLevelSession';
                    updateUserData(fieldName, sessionData);
                }
            };

            const finishQuiz = () => {
                const record = { id: Date.now(), date: new Date().toLocaleString(), userName, score: quizScore, total: quizQuestions.length, category: activeCategory, details: quizQuestions.map(q => ({ term: q.term, definition: q.definition, sentence: q.sentence, isCorrect: q.isCorrect, userAnswer: q.userAnswer || "æœªä½œç­”", correctAnswer: q.targetZhuyin })) };
                const newHistory = [record, ...historyLog]; setHistoryLog(newHistory); updateUserData('history', newHistory);
                
                if (activeCategory !== 'æ”¶è—å¤¾' && activeCategory !== 'éŒ¯é¡Œæœ¬' && activeCategory !== 'waterfall') { 
                    const key = `${activeCategory}-${quizPage}`; 
                    if (quizScore > 0) { 
                        const todayStr = new Date().toLocaleDateString();
                        const existingEntryIndex = completedDays.findIndex(item => item.id === key);
                        let newCompleted;
                        
                        if (existingEntryIndex >= 0) {
                            newCompleted = [...completedDays];
                            newCompleted[existingEntryIndex] = { ...newCompleted[existingEntryIndex], score: Math.max(newCompleted[existingEntryIndex].score || 0, quizScore), date: todayStr };
                        } else {
                            newCompleted = [...completedDays, { id: key, date: todayStr, score: quizScore }];
                        }
                        
                        setCompletedDays(newCompleted); 
                        updateUserData('progress', newCompleted); 
                    } 
                } 
                
                // Clear the session that was just finished
                if (activeCategory !== 'éŒ¯é¡Œæœ¬') {
                    const fieldName = activeCategory === 'waterfall' ? 'currentWaterfallSession' : 'currentLevelSession';
                    updateUserData(fieldName, null);
                }
            };

            return (
                <div className="min-h-screen font-sans selection:bg-amber-200 selection:text-amber-900 relative">
                    <div className="fixed inset-0 z-0 bg-cover bg-center transition-all duration-1000 no-print" style={{ backgroundImage: `url('${bgImage}')`, backgroundColor: '#fcf9f2' }}></div>
                    <div className="fixed inset-0 z-0 bg-white/70 backdrop-blur-[2px] no-print"></div>
                    <div className="relative z-10">
                        <MusicPlayer ref={musicPlayerRef} />
                        {currentMode === 'menu' && <MenuView userName={userName} setUserName={setUserName} showNameWarning={showNameWarning} mistakeLog={mistakeLog} favorites={favorites} parsedData={parsedData} onStartLearn={(cat) => { setActiveCategory(cat); setLearnPage(0); setCurrentMode('learn'); }} onStartQuiz={(cat, page = 0) => handleStartQuiz(cat, page)} onStartWaterfall={handleStartWaterfall} onViewHistory={() => setCurrentMode('history')} onViewMistakes={() => setCurrentMode('mistakes')} onViewTable={() => setCurrentMode('table')} onPrint={() => setCurrentMode('print')} onLogin={handleLogin} isLocked={isLocked} onQuickLogin={handleQuickLogin} lastUser={lastUser} onLogout={handleLogout} onDeleteUser={handleDeleteUser} globalUsers={globalUsers} triggerMusic={triggerMusic} connectionStatus={connectionStatus} completedDays={completedDays} />}
                        {currentMode === 'learn' && <LearnView items={activeCategory === 'æ”¶è—å¤¾' ? allItems.filter(i => favorites.includes(i.id)) : parsedData["ç²¾é¸å­—éŸ³"]} learnPage={learnPage} setLearnPage={setLearnPage} favorites={favorites} toggleFavorite={toggleFavorite} completedDays={completedDays} onMenu={() => setCurrentMode('menu')} />}
                        {currentMode === 'quiz' && <QuizView questions={quizQuestions} score={quizScore} userName={userName} combo={combo} onAnswer={handleAnswer} onFinish={finishQuiz} onMenu={() => setCurrentMode('menu')} onViewHistory={() => setCurrentMode('history')} favorites={favorites} toggleFavorite={toggleFavorite} activeCategory={activeCategory} totalItems={activeCategory === 'æ”¶è—å¤¾' ? favorites.length : parsedData["ç²¾é¸å­—éŸ³"].length} quizPage={quizPage} onPageChange={(page) => handleStartQuiz(activeCategory, page)} completedDays={completedDays} />}
                        {currentMode === 'history' && <HistoryView historyLog={historyLog} setHistoryLog={clearHistoryLog} onMenu={() => setCurrentMode('menu')} />}
                        {currentMode === 'mistakes' && <MistakeView mistakes={allItems.filter(i => mistakeLog.some(m => m.id === i.id))} mistakeLog={mistakeLog} setMistakeLog={clearMistakeLog} onMenu={() => setCurrentMode('menu')} onReviewAll={() => handleStartQuiz(null, 0, true)} />}
                        {currentMode === 'table' && <TableView items={allItems} onMenu={() => setCurrentMode('menu')} favorites={favorites} toggleFavorite={toggleFavorite} />}
                        {currentMode === 'print' && <PrintExamView items={allItems} onMenu={() => setCurrentMode('menu')} />}
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>